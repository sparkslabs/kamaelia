<html><head><meta name="qrichtext" content="1" />
<style>
.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.8;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }
.none { width: 100%;
        clear: both;
      }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;

    border: 1px solid;
}
.sidebar {
    width: 10em;
    float: left;
    padding: 1em;

}
.bodytext {

    margin: 0 5em 0em 12em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
</style>
</head><body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
<h1>Kamaelia.Visualisation.PhysicsGraph.TopologyViewerComponent.TopologyViewerComponent</h1>
<h2>class TopologyViewerComponent(Kamaelia.UI.MH.PyGameApp.PyGameApp,Axon.Component.component)</h2>

<p>TopologyViewerComponent(...) -&gt; new TopologyViewerComponent component.</p>
<p>A component that takes incoming topology (change) data and displays it live
using pygame. A simple physics model assists with visual layout. Particle
types, appearance and physics interactions can be customised.</p>
<p>Keyword arguments (in order):
- screensize          -- (width,height) of the display area (default = (800,600))
- fullscreen          -- True to start up in fullscreen mode (default = False)
- caption             -- Caption for the pygame window (default = &quot;Topology Viewer&quot;)
- particleTypes       -- dict(&quot;type&quot; -&gt; klass) mapping types of particle to classes used to render them (default = {&quot;-&quot;:RenderingParticle})
- initialTopology     -- (nodes,bonds) where bonds=list((src,dst)) starting state for the topology  (default=([],[]))
- laws                -- Physics laws to apply between particles (default = SimpleLaws(bondlength=100))
- simCyclesPerRedraw  -- number of physics sim cycles to run between each redraw (default=1)
- border              -- Minimum distance from edge of display area that new particles appear (default=100)
- extraDrawing        -- Optional extra object to be rendered (default=None)
- showGrid            -- False, or True to show gridlines (default=True)
- transparency        -- None, or (r,g,b) colour to make transparent
- position            -- None, or (left,top) position for surface within pygame window</p>
<h4>Inboxes</h4>
<ul><li>   control : Shutdown signalling
<li>   events : Place where we recieve events from the outside world
<li>   displaycontrol : Replies from PygameDisplay service
<li>   inbox : Topology (change) data describing an Axon system
<li>   alphacontrol : Alpha (transparency) of the image (value 0..255)
</ul>
<h4>Outboxes</h4>
<ul><li>   outbox : Notification and topology output
<li>   signal : NOT USED
<li>   displaysignal : Requests to PygameDisplay service
</ul>
<h2>Methods defined here</h2>

<table width='40%' border='2' align='right'><tr><td><p dir="ltr"><span style="font-weight:600">Warning!</span> </p>
<ul type="disc"><div dir="ltr">You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers. </div></ul>
</body></html>
  </td></tr></table>
<h3>__init__(self,
 screensize,
 fullscreen,
 caption,
 particleTypes,
 initialTopology,
 laws,
 simCyclesPerRedraw,
 border,
 extraDrawing,
 showGrid,
 transparency,
 position)</h3>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
<h3>_generateXY(self, posSpec)</h3>
<p>generateXY(posSpec) -&gt; (x,y) or raises ValueError</p>
<p>posSpec == &quot;randompos&quot; or &quot;auto&quot; -&gt; random (x,y) within the surface (specified border distance in from the edege)
posSpec == &quot;(XXX,YYY)&quot; -&gt; specified x,y (positive or negative integers)</p>
<h3>addParticle(self)</h3>
<p>Add particles to the system</p>
<h3>breakBond(self, source, dest)</h3>
<p>Break a bond from source to destination particle, specified by IDs</p>
<h3>doCommand(self, msg)</h3>
<dl class="docutils">
<dt>Proceses a topology command tuple:</dt>
<dd>[ &quot;ADD&quot;, &quot;NODE&quot;, &lt;id&gt;, &lt;name&gt;, &lt;positionSpec&gt;, &lt;particle type&gt; ]
[ &quot;DEL&quot;, &quot;NODE&quot;, &lt;id&gt; ]
[ &quot;ADD&quot;, &quot;LINK&quot;, &lt;id from&gt;, &lt;id to&gt; ]
[ &quot;DEL&quot;, &quot;LINK&quot;, &lt;id from&gt;, &lt;id to&gt; ]
[ &quot;DEL&quot;, &quot;ALL&quot; ]
[ &quot;GET&quot;, &quot;ALL&quot; ]</dd>
</dl>
<h3>getParticleLabel(self, node_id)</h3>
<p>getParticleLabel(node_id) -&gt; particle's name</p>
<p>Returns the name/label of the specified particle.</p>
<h3>getTopology(self)</h3>
<p>getTopology() -&gt; list of command tuples that would build the current topology</p>
<h3>initialiseComponent(self)</h3>
<p>Initialises.</p>
<h3>keyDownHandler(self, event)</h3>
<dl class="docutils">
<dt>Handle keypresses:</dt>
<dd>ESCAPE, Q : quits
F         : toggles fullscreen mode
arrows    : scroll the view</dd>
</dl>
<h3>keyUpHandler(self, event)</h3>
<p>Handle releases of keys</p>
<h3>mainLoop(self)</h3>
<p>Main loop.</p>
<p>Proceses commands from &quot;inbox&quot; inbox, runs physics simulation, then renders display</p>
<h3>makeBond(self, source, dest)</h3>
<p>Make a bond from source to destination particle, specified by IDs</p>
<h3>quit(self, event)</h3>
<p>Cause termination.</p>
<h3>removeParticle(self)</h3>
<p>Remove particle(s) specified by their ids.</p>
<p>Also breaks any bonds to/from that particle.</p>
<h3>render(self)</h3>
<p>Render elements to self.screen</p>
<h3>scroll(self, (dx, dy))</h3>
<p>Scroll the contents being displayed on the surface by (dx,dy) left and up.</p>
<h3>selectParticle(self, particle)</h3>
<p>Select the specified particle.</p>
<h3>updateParticleLabel(self, node_id, new_name)</h3>
<p>updateParticleLabel(node_id, new_name) -&gt; updates the given nodes name &amp; visual label if it exists</p>
<p>node_id - an id for an already existing node
new_name - a string (may include spaces) defining the new node name</p>
<HR>
<h2> Feedback </h2>
<P>Got a problem with the documentation? Something unclear, could
be clearer? Want to help with improving? Constructive criticism,
preferably in the form of suggested rewording is very welcome.

<P>Please leave the feedback 
<a href="http://kamaelia.sourceforge.net/cgi-bin/blog/blog.cgi?rm=addpostcomment&postid=1131454685"> 
here, in reply to the documentation thread in the Kamaelia blog</a>. 

<div class="none"></div>
<P><hr width='100%%'>
<p>
(C) 2006 Kamaelia Contributors, including the British Broadcasting
Corporation, All Rights Reserved,
This is an ongoing community based development site. As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved. Specificially, this page may
contain personal views which are not the views of the BBC. 

</body></html>

