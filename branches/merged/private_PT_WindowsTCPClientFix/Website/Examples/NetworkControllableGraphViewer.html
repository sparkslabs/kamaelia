<html><head><meta name="qrichtext" content="1" /></head><body style="font-size:10pt;font-family:URW Gothic L">
<p><span style="font-size:24pt;font-weight:600">Cookbook Example</span></p>
<p align="right"><span style="font-size:18pt">How can I...?</span></p>
<p>Example 6: How to build a network controllable graph viewer. <span style="font-weight:600">Components used: </span><span style="font-style:italic;color:#ff0004">TopologyViewerServer</span></p>
<ul type="disc"><div>[[pre]<span style="font-style:italic">#!/usr/bin/python<br /><br /></span><span style="font-weight:600">from</span> Kamaelia.Visualisation.PhysicsGraph.TopologyViewerServer <span style="font-weight:600">import</span> TopologyViewerServer<br /><br /><span style="font-weight:600">def</span> parseArgs(argv, extraShortArgs=&quot;&quot;, extraLongArgs=[]):<br />    <span style="font-weight:600">import</span> getopt<br /><br />    shortargs = &quot;fh&quot; + extraShortArgs<br />    longargs  = list(&quot;help&quot;,&quot;fullscreen&quot;,&quot;resolution=&quot;,&quot;port=&quot;) + extraLongArgs<br /><br />    optlist, remargs = getopt.getopt(argv, shortargs, longargs)<br /><br />    dictArgs = {}<br />    <span style="font-weight:600">for</span> o,a <span style="font-weight:600">in</span> optlist:<br />        <span style="font-weight:600">if</span> o <span style="font-weight:600">in</span> (&quot;-h&quot;,&quot;--help&quot;):<br />            dictArgs['help'] = &quot;Arguments:\n&quot; + \<br />                               &quot;   -h, --help\n&quot; + \<br />                               &quot;      This help message\n\n&quot; + \<br />                               &quot;   -f, --fullscreen\n&quot; + \<br />                               &quot;      Full screen mode\n\n&quot; + \<br />                               &quot;   --resolution=WxH\n&quot; + \<br />                               &quot;      Set window size to W by H pixels\n\n&quot; + \<br />                               &quot;   --port=N\n&quot; + \<br />                               &quot;      Listen on port N (default is 1500)\n\n&quot;<br /><br />        <span style="font-weight:600">elif</span> o <span style="font-weight:600">in</span> (&quot;-f&quot;,&quot;--fullscreen&quot;):<br />            dictArgs['fullscreen'] = True<br /><br />        <span style="font-weight:600">elif</span> o <span style="font-weight:600">in</span> (&quot;--resolution&quot;):<br />            match = re.match(r&quot;^(\d+)[x,-](\d+)$&quot;, a)<br />            x=int(match.group(1))<br />            y=int(match.group(2))<br />            dictArgs['screensize'] = (x,y)<br /><br />        <span style="font-weight:600">elif</span> o <span style="font-weight:600">in</span> (&quot;--port&quot;):<br />            dictArgs['serverPort'] = int(a)<br /><br />    <span style="font-weight:600">return</span> dictArgs, optlist, remargs<br /><br /><span style="font-weight:600">if</span> __name__==&quot;__main__&quot;:<br />    <span style="font-weight:600">import</span> sys<br />    dictArgs, remargs, junk = parseArgs(sys.argv[1:])<br /><br />    <span style="font-weight:600">if</span> &quot;help&quot; <span style="font-weight:600">in</span> dictArgs:<br />        print dictArgs[&quot;help&quot;]<br />    <span style="font-weight:600">else</span>:<br />        TopologyViewerServer(**dictArgs).run()<br />]<br /><span style="font-weight:600">Source:</span> Examples/example6/TopologyVisualiser.py</div></ul>
<p></p>
<p></p>
</body></html>
