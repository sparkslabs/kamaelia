<html><head><meta name="qrichtext" content="1" /></head><body style="font-size:10pt;font-family:URW Gothic L">
<p><span style="font-size:24pt;font-weight:600">Cookbook Example</span></p>
<p align="right"><span style="font-size:18pt">How can I...?</span></p>
<p>Example 8: How to combine the two applications into 1 tool. <span style="font-weight:600">Components used: </span><a href="/Components/pydoc/Kamaelia.Util.Graphline.Graphline.html">Graphline</a>, <a href="/Components/pydoc/Kamaelia.Util.PipelineComponent.pipeline.html">pipeline</a>, <a href="/Components/pydoc/Kamaelia.UI.Pygame.Button.Button.html">Button</a>, <a href="/Components/pydoc/Kamaelia.Util.Chooser.Chooser.html">Chooser</a>, <a href="/Components/pydoc/Kamaelia.UI.Pygame.Image.Image.html">Image</a>, <a href="/Components/pydoc/Kamaelia.Visualisation.PhysicsGraph.lines_to_tokenlists.lines_to_tokenlists.html">lines_to_tokenlists</a>, <a href="/Components/pydoc/Kamaelia.Visualisation.PhysicsGraph.chunks_to_lines.chunks_to_lines.html">chunks_to_lines</a>, <a href="/Components/pydoc/Kamaelia.Visualisation.PhysicsGraph.TopologyViewerComponent.TopologyViewerComponent.html">TopologyViewerComponent</a></p>
<ul type="disc"><div>[[pre]<span style="font-style:italic">#!/usr/bin/python</span><br /><br /><span style="font-weight:600">from</span> Kamaelia.UI.Pygame.Button <span style="font-weight:600">import</span> Button<br /><span style="font-weight:600">from</span> Kamaelia.UI.Pygame.Image <span style="font-weight:600">import</span> Image<br /><span style="font-weight:600">from</span> Kamaelia.Visualisation.PhysicsGraph.lines_to_tokenlists <span style="font-weight:600">import</span> lines_to_tokenlists<br /><span style="font-weight:600">from</span> Kamaelia.Visualisation.PhysicsGraph.chunks_to_lines <span style="font-weight:600">import</span> chunks_to_lines<br /><span style="font-weight:600">from</span> Kamaelia.Visualisation.PhysicsGraph.TopologyViewerComponent <span style="font-weight:600">import</span> TopologyViewerComponent<br /><span style="font-weight:600">from</span> Kamaelia.Util.Chooser <span style="font-weight:600">import</span> Chooser<br /><span style="font-weight:600">from</span> Kamaelia.Util.Graphline <span style="font-weight:600">import</span> Graphline<br /><span style="font-weight:600">from</span> Kamaelia.Util.PipelineComponent <span style="font-weight:600">import</span> pipeline<br /><span style="font-weight:600">import</span> os<br /><br />graph = [&quot;\n&quot;,&quot;&quot;&quot;DEL ALL<br />ADD NODE This This auto -<br />ADD NODE is is auto -<br />ADD NODE a a auto -<br />ADD NODE pipeline pipeline auto -<br />ADD LINK This is<br />ADD LINK is a<br />ADD LINK a pipeline<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL NODE pipeline<br />ADD NODE graphline graphline auto -<br />ADD NODE because because auto -<br />ADD NODE it it auto -<br />ADD NODE isn't isn't auto -<br />ADD NODE pipelike pipelike auto -<br />ADD LINK a graphline<br />ADD LINK This because<br />ADD LINK it isn't<br />ADD LINK it pipelike<br />ADD LINK it is<br />&quot;&quot;&quot;,<br />&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;, &quot;&quot;&quot;ADD NODE FIND FIND auto -<br />ADD NODE EGREP EGREP auto -<br />ADD NODE READ* READ* auto -<br />ADD NODE CP CP auto -<br />ADD LINK FIND EGREP<br />ADD LINK EGREP READ*<br />ADD LINK READ* CP<br />&quot;&quot;&quot;,<br />&quot;&quot;&quot;ADD NODE ENV ENV auto -<br />ADD LINK ENV FIND<br />ADD LINK ENV EGREP<br />ADD LINK ENV READ*<br />ADD LINK ENV CP<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;, &quot;&quot;&quot;ADD NODE ComponentOne ComponentOne auto -<br />ADD NODE ComponentTwo ComponentTwo auto -<br />ADD NODE ComponentThree ComponentThree auto -<br />ADD NODE ComponentFour ComponentFour auto -<br />ADD NODE ComponentFive ComponentFive auto -<br />&quot;&quot;&quot;,&quot;&quot;&quot;ADD LINK ComponentOne ComponentTwo<br />ADD LINK ComponentTwo ComponentFive<br />ADD LINK ComponentThree ComponentFour<br />ADD LINK ComponentThree ComponentFive<br />ADD LINK ComponentTwo ComponentFour<br />&quot;&quot;&quot;,<br />&quot;&quot;&quot;ADD NODE CAT CAT auto -<br />ADD LINK CAT ComponentOne<br />ADD LINK CAT ComponentTwo<br />ADD LINK CAT ComponentThree<br />ADD LINK CAT ComponentFour<br />ADD LINK CAT ComponentFive<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;,&quot;&quot;&quot;ADD NODE TCPClient TCPClient auto -<br />ADD NODE VorbisDecode VorbisDecode auto -<br />ADD NODE AOPlayer AOPlayer auto -<br />ADD LINK TCPClient VorbisDecode<br />ADD LINK VorbisDecode AOPlayer<br />&quot;&quot;&quot;, &quot;&quot;&quot;ADD NODE ReadFileAdaptor ReadFileAdaptor auto -<br />ADD NODE SimpleServer SimpleServer auto -<br />ADD LINK ReadFileAdaptor SimpleServer<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL NODE SimpleServer<br />DEL NODE ReadFileAdaptor<br />ADD NODE Multicast_Transceiver Multicast_Transceiver auto -<br />ADD NODE detuple detuple auto -<br />ADD LINK Multicast_Transceiver detuple<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL NODE TCPClient<br />ADD LINK detuple VorbisDecode<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;,<br />&quot;&quot;&quot;ADD NODE reciever reciever auto -<br />ADD NODE demodulation demodulation auto -<br />ADD NODE error_correction error_correction auto -<br />ADD NODE demultiplexing demultiplexing auto -<br />ADD NODE decode decode auto -<br />ADD NODE display display auto -<br />ADD LINK reciever demodulation<br />ADD LINK demodulation error_correction<br />ADD LINK error_correction demultiplexing<br />ADD LINK demultiplexing decode<br />ADD LINK decode display<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;,<br />&quot;&quot;&quot;ADD NODE ProtocolHandler ProtocolHandler auto -<br />ADD NODE SimpleServer SimpleServer auto -<br />ADD NODE FileChooser FileChooser auto -<br />ADD NODE ImageGrabber ImageGrabber auto -<br />ADD NODE MyFileReader MyFileReader auto -<br />ADD LINK ProtocolHandler SimpleServer<br />ADD LINK FileChooser ImageGrabber<br />ADD LINK ImageGrabber MyFileReader<br />ADD LINK ImageGrabber ProtocolHandler<br />ADD LINK MyFileReader ProtocolHandler<br />&quot;&quot;&quot;,&quot;&quot;&quot;ADD NODE ClientProtocolHandler ClientProtocolHandler auto -<br />ADD NODE PacketCombiner PacketCombiner auto -<br />ADD NODE FileWriter FileWriter auto -<br />ADD NODE PCDisplay PCDisplay auto -<br />ADD LINK ClientProtocolHandler PacketCombiner<br />ADD LINK PacketCombiner FileWriter<br />ADD LINK FileWriter PCDisplay<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL NODE PCDisplay<br />ADD NODE NokiaDisplay NokiaDisplay auto -<br />ADD LINK FileWriter NokiaDisplay<br />&quot;&quot;&quot;,&quot;&quot;&quot;DEL ALL<br />&quot;&quot;&quot;<br />]<br /><br />path = &quot;Slides&quot;<br />extn = &quot;.gif&quot;<br />allfiles = os.listdir(path)<br />files = list()<br /><span style="font-weight:600">for</span> fname <span style="font-weight:600">in</span> allfiles:<br />    <span style="font-weight:600">if </span>fname[-len(extn):]==extn:<br />        files.append(os.path.join(path,fname))<br />files.sort()<br /><br /><span style="font-style:italic;font-weight:600"># Slideshow component</span><span style="font-style:italic"><br /></span>Graphline(<br />     CHOOSER = Chooser(items = files),<br />     IMAGE = Image(size=(800,600), position=(0,0)),<br />     NEXT = Button(caption=&quot;Next&quot;, msg=&quot;NEXT&quot;, position=(64,0), transparent=True),<br />     PREVIOUS = Button(caption=&quot;Previous&quot;, msg=&quot;PREV&quot;,position=(0,0), transparent=True),<br />     FIRST = Button(caption=&quot;First&quot;, msg=&quot;FIRST&quot;,position=(256,0), transparent=True),<br />     LAST = Button(caption=&quot;Last&quot;, msg=&quot;LAST&quot;,position=(320,0), transparent=True),<br />     linkages = {<br />        (&quot;NEXT&quot;,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),<br />        (&quot;PREVIOUS&quot;,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),<br />        (&quot;FIRST&quot;,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),<br />        (&quot;LAST&quot;,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),<br />        (&quot;CHOOSER&quot;,&quot;outbox&quot;) : (&quot;IMAGE&quot;,&quot;inbox&quot;),<br />     }<br />).activate()<br /><br /><span style="font-style:italic;font-weight:600"># Topology slideshow component</span><br />pipeline(<br />     Button(caption=&quot;dink&quot;, msg=&quot;NEXT&quot;, position=(136,0), transparent=True),<br />     Chooser(items = graph),<br />     chunks_to_lines(),<br />     lines_to_tokenlists(),<br />     TopologyViewerComponent(transparency = (255,255,255), showGrid = False, position=(0,0)),<br />).run()<br />] <span style="font-weight:600">Source: </span>Examples/example8/topology_slideshow.py</div></ul>
<p></p>
</body></html>
