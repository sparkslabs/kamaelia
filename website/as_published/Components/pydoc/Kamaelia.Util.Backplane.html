<html>
<head>
<title> Components/pydoc/Kamaelia.Util.Backplane </title>
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span> 
  </b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twelveC column"> 
                <html>
<head>
<title>Kamaelia docs : Kamaelia.Util.Backplane</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.html">Backplane</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.Backplane.html">Backplane</a></strong></li>
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.PublishTo.html">PublishTo</a></strong></li>
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.SubscribeTo.html">SubscribeTo</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#177">Publishing and Subscribing with Backplanes</a><ul>
<li><a class="reference" href="#178">Example usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#179">More detail</a><ul>
</ul>
</li>
<li><a class="reference" href="#180">Implementation details</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="177">Publishing and Subscribing with Backplanes</h1>
<p>Backplanes provide a way to 'publish' data under a name, enabling other parts
of the system to 'subscribe' to it on the fly, without having to know about the
actual component(s) the data is coming from.</p>
<p>It is a quick and easy way to distribute or share data. Think of them like
backplane circuit boards - where other circuit boards can plug in to send or
receive any signals they need.</p>
<div class="section">
<h2 id="178"><a id="example-usage" name="example-usage">Example usage</a></h2>
<p>A system where several producers publish data, for consumers to pick up:</p>
<pre class="literal-block">
Pipeline( Producer1(),
          PublishTo(&quot;DATA&quot;)
        ).activate()

Pipeline( Producer2(),
          PublishTo(&quot;DATA&quot;)
        ).activate()

Pipeline( SubscribeTo(&quot;DATA&quot;),
          Consumer1(),
        ).activate()

Pipeline( SubscribeTo(&quot;DATA&quot;),
          Consumer2(),
        ).activate()

Backplane(&quot;DATA&quot;).run()
</pre>
<p>A server where multiple clients can connect and they all get sent the same data
at the same time:</p>
<pre class="literal-block">
Pipeline( Producer(),
          PublishTo(&quot;DATA&quot;)
        ).activate()

SimpleServer(protocol=SubscribeTo(&quot;DATA&quot;), port=1500).activate()

Backplane(&quot;DATA&quot;).run()
</pre>
</div>
<div class="section">
<h2 id="179"><a id="more-detail" name="more-detail">More detail</a></h2>
<p>The Backplane component collects data from publishers and sends it out to
subscribers.</p>
<p>You can have as many backplanes as you like in a running system - provided they
all register under different names.</p>
<p>A backplane can have multiple subscribers and multiple publishers. Publishers
and subscribers can be created and destroyed on the fly.</p>
<p>To shut down a PublishTo() component, send a producerFinished() or
shutdownMicroprocess() message to its &quot;control&quot; inbox. This does <em>not</em> propagate
and therefore does <em>not</em> cause the Backplane or any subscribers to terminate.</p>
<p>To shut down a SubscribeTo() component, send a producerFinished() or
shutdownMicroprocess() message to its &quot;control&quot; inbox. It will then immediately
forward the mesage on out of its &quot;signal&quot; outbox and terminate.</p>
<p>To shut down the Backplane itself, send a producerFinished() or
shutdownMicroprocess() message to its &quot;control&quot; inbox. It will then immediately
terminate and also propagate this message onto any subscribers (SubscribeTo
components), causing them to also terminate.</p>
</div>
<div class="section">
<h2 id="180"><a id="implementation-details" name="implementation-details">Implementation details</a></h2>
<p>Backplane is actually based on a <a class="reference" href="/Components/pydoc/Kamaelia.Util.Splitter.PlugSplitter.html">Kamaelia.Util.Splitter.PlugSplitter</a> component,
and the SubscribeTo component is a wrapper around a <a class="reference" href="/Components/pydoc/Kamaelia.Util.Splitter.Plug.html">Kamaelia.Util.Splitter.Plug</a>.</p>
<p>The Backplane registers itself with the coordinating assistant
tracker.</p>
<ul class="simple">
<li>Its &quot;inbox&quot; inbox is registered under the name &quot;Backplane_I_&lt;name&gt;&quot;</li>
<li>Its &quot;configuration&quot; inbox is registered under the name &quot;Backplane_O_&lt;name&gt;&quot;</li>
</ul>
<p>PublishTo components look up the &quot;Backplane_I_&lt;name&gt;&quot; service and simply forward
data sent to their &quot;inbox&quot; inboxes direct to the &quot;inbox&quot; inbox of the
PlugSplitter - causing it to be distributed to all subscribers.</p>
<p>SubscribeTo components look up the &quot;Backplane_O_&lt;name&gt;&quot; service and request to
have their &quot;inbox&quot; and &quot;control&quot; inboxes connected to the PlugSplitter.
SubscribeTo then forwards on any messages it receives out of its &quot;outbox&quot; and
&quot;signal&quot; outboxes respectively.</p>
<p>The PlugSplitter component's &quot;control&quot; inbox and &quot;signal&quot; outbox are not
advertised as services. To shut down a Backplane you must therefore send a
shutdownMicroprocess() or producerFinished() message directly to its &quot;control&quot;
inbox. When this happens, the shutdown message will be forwarded on to all
subscribers - causing SubscribeTo components to also shut down.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.html">Backplane</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.Backplane.html">Backplane</a></h1>
<div class="section">
<h2 id="symbol-Backplane">class Backplane(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Backplane(name) -&gt; new Backplane component.</p>
<p>A named backplane to which data can be published for subscribers to pick up.</p>
<ul class="simple">
<li>Use PublishTo components to publish data to a Backplane.</li>
<li>Use SubscribeTo components to receive data published to a Backplane.</li>
</ul>
<p>Keyword arguments:</p>
<ul class="simple">
<li>name  -- The name for the backplane. publishers and subscribers connect to this by using the same name.</li>
</ul>
<div class="section">
<h3><a id="symbol-Backplane.Inboxes" name="symbol-Backplane.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : Shutdown signalling (shuts down the backplane and all subscribers</li>
<li><strong>inbox</strong> : NOT USED</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-Backplane.Outboxes" name="symbol-Backplane.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : Shutdown signalling</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-Backplane.__init__" name="symbol-Backplane.__init__">__init__(self, name)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Backplane.childrenDone" name="symbol-Backplane.childrenDone">childrenDone(self)</a></h4>
<p>Unplugs any children that have terminated, and returns true if there are no
running child components left (ie. their microproceses have finished)</p>
</div>
<div class="section">
<h4><a id="symbol-Backplane.main" name="symbol-Backplane.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.html">Backplane</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.PublishTo.html">PublishTo</a></h1>
<div class="section">
<h2 id="symbol-PublishTo">class PublishTo(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>PublishTo(destination) -&gt; new PublishTo component</p>
<p>Publishes data to a named Backplane. Any data sent to the &quot;inbox&quot; inbox is
sent to all (any) subscribers to the same named Backplane.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>destination  -- the name of the Backplane to publish data to</li>
</ul>
<div class="section">
<h3><a id="symbol-PublishTo.Inboxes" name="symbol-PublishTo.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : Shutdown signalling (doesn't shutdown the Backplane)</li>
<li><strong>inbox</strong> : Send to here data to be published to the backplane</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-PublishTo.Outboxes" name="symbol-PublishTo.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : Shutdown signalling</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-PublishTo.__init__" name="symbol-PublishTo.__init__">__init__(self, destination)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-PublishTo.main" name="symbol-PublishTo.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.html">Backplane</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Backplane.SubscribeTo.html">SubscribeTo</a></h1>
<div class="section">
<h2 id="symbol-SubscribeTo">class SubscribeTo(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>SubscribeTo(source) -&gt; new SubscribeTo component</p>
<p>Subscribes to a named Backplane. Receives any data published to that
backplane and sends it on out of its &quot;outbox&quot; outbox.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>source  -- the name of the Backplane to subscribe to for data</li>
</ul>
<div class="section">
<h3><a id="symbol-SubscribeTo.Inboxes" name="symbol-SubscribeTo.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : Shutdown signalling (doesn't shutdown the Backplane)</li>
<li><strong>inbox</strong> : NOT USED</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-SubscribeTo.Outboxes" name="symbol-SubscribeTo.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : Data received from the backplane (that was published to it)</li>
<li><strong>signal</strong> : Shutdown signalling</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-SubscribeTo.__init__" name="symbol-SubscribeTo.__init__">__init__(self, source)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-SubscribeTo.childrenDone" name="symbol-SubscribeTo.childrenDone">childrenDone(self)</a></h4>
<p>Unplugs any children that have terminated, and returns true if there are no
running child components left (ie. their microproceses have finished)</p>
</div>
<div class="section">
<h4><a id="symbol-SubscribeTo.main" name="symbol-SubscribeTo.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</i>
</body></html>

                </div> 
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home>5D">Kamaelia</a>
    is an open source project originated from and guided by BBC
    Research. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved.
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



