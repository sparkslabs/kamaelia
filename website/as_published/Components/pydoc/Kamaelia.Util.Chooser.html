<html>
<head>
<title> Components/pydoc/Kamaelia.Util.Chooser </title>
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span> 
  </b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twelveC column"> 
                <html>
<head>
<title>Kamaelia docs : Kamaelia.Util.Chooser</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.html">Chooser</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.Chooser.html">Chooser</a></strong></li>
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.ForwardIteratingChooser.html">ForwardIteratingChooser</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#156">Iterating Over A Predefined List</a><ul>
<li><a class="reference" href="#157">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#158">How does it work?</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="156">Iterating Over A Predefined List</h1>
<p>The Chooser component iterates (steps) forwards and backwards through a list of
items. Request the next or previous item and Chooser will return it.</p>
<p>The ForwardIteratingChooser component only steps forwards, but can therefore
handle more than just lists - for example: infinite sequences.</p>
<div class="section">
<h2 id="157"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>A simple slideshow:</p>
<pre class="literal-block">
items=[ &quot;image1.png&quot;, &quot;image2.png&quot;, &quot;image3.png&quot;, ... ]

Graphline( CHOOSER  = Chooser(items=imagefiles),
           FORWARD  = Button(position=(300,16), msg=&quot;NEXT&quot;, caption=&quot;Next&quot;),
           BACKWARD = Button(position=(16,16),  msg=&quot;PREV&quot;, caption=&quot;Previous&quot;),
           DISPLAY  = Image(position=(16,64), size=(640,480)),
           linkages = { (&quot;FORWARD&quot; ,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),
                        (&quot;BACKWARD&quot;,&quot;outbox&quot;) : (&quot;CHOOSER&quot;,&quot;inbox&quot;),
                        (&quot;CHOOSER&quot; ,&quot;outbox&quot;) : (&quot;DISPLAY&quot;,&quot;inbox&quot;),
                      }
         ).run()
</pre>
<p>The chooser is driven by the 'next' and 'previous' Button components. Chooser
then sends filenames to an Image component to display them.</p>
<p>Another example: a forever looping carousel of files, read at 1MBit/s:</p>
<pre class="literal-block">
def filenames():
    while 1:
        yield &quot;file 1&quot;
        yield &quot;file 2&quot;
        yield &quot;file 3&quot;

JoinChooserToCarousel( chooser = InfiniteChooser(items=filenames),
                       carousel = FixedRateControlledReusableFilereader(&quot;byte&quot;,rate=131072,chunksize=1024),
                     )
</pre>
</div>
<div class="section">
<h2 id="158"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>When creating it, pass the component a set of items for it to iterate over.</p>
<p>Chooser will only accept finite length datasets. InfiniteChooser will accept
any interable sequence, even one that never ends from a generator.</p>
<p>Once activated, the component will emit the first item from the list from its
&quot;outbox&quot; outbox.</p>
<p>If the list/sequence is empty, then nothing is emitted, even in response to
messages sent to the &quot;inbox&quot; inbox described now.</p>
<p>Send commands to the &quot;inbox&quot; inbox to move onto another item of data and cause
it to be emitted. This behaviour is very much like a database cursor or file
pointer - you are issuing commands to step through a dataset.</p>
<p>Send &quot;SAME&quot; and the component will emit the same item of data that was last
emitted last time. Both Chooser and InfiniteChooser respond to this request.</p>
<p>Send &quot;NEXT&quot; and the component will emit the next item from the list or sequence.
If there is no 'next' item (becuase we are already at the end of the
list/sequence) then nothing is emitted. Both Chooser and InfiniteChooser respond
to this request.</p>
<p>With InfiniteChooser, if there is not 'next' item then, additionally, a
producerFinished message will be sent out of its &quot;signal&quot; outbox to signal that
the end of the sequence has been reached. The component will then terminate.</p>
<p>All requests described from now are only supported by the Chooser component.
InfiniteChooser will ignore them.</p>
<p>Send &quot;PREV&quot; and the previous item from the list or sequence will be emitted. If
there is no previous item (because we are already at the front of the
list/sequence) then nothing is emitted.</p>
<p>Send &quot;FIRST&quot; or &quot;LAST&quot; and the first or last item from the list or sequence will
be emitted, respectively. The item will be emitted even if we are already at the
first/last item.</p>
<p>If Chooser or InfiniteChooser receive a shutdownMicroprocess message on the
&quot;control&quot; inbox, they will pass it on out of the &quot;signal&quot; outbox. The component
will then terminate.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.html">Chooser</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.Chooser.html">Chooser</a></h1>
<div class="section">
<h2 id="symbol-Chooser">class Chooser(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Chooser([items]) -&gt; new Chooser component.</p>
<p>Iterates through a finite list of items. Step by sending &quot;NEXT&quot;, &quot;PREV&quot;,
&quot;FIRST&quot; or &quot;LAST&quot; messages to its &quot;inbox&quot; inbox.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>items  -- list of items to be chosen from, must be type 'list' (default=[])</li>
</ul>
<div class="section">
<h3><a id="symbol-Chooser.Inboxes" name="symbol-Chooser.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : shutdown messages</li>
<li><strong>inbox</strong> : receive commands</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-Chooser.Outboxes" name="symbol-Chooser.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : emits chosen items</li>
<li><strong>signal</strong> : shutdown messages</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-Chooser.__init__" name="symbol-Chooser.__init__">__init__(self[, items])</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.getCurrentChoice" name="symbol-Chooser.getCurrentChoice">getCurrentChoice(self)</a></h4>
<p>Return the current choice to the outbox</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.gotoFirst" name="symbol-Chooser.gotoFirst">gotoFirst(self)</a></h4>
<p>Goto the first item in the set. Returns True.</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.gotoLast" name="symbol-Chooser.gotoLast">gotoLast(self)</a></h4>
<p>Goto the last item in the set. Returns True.</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.gotoNext" name="symbol-Chooser.gotoNext">gotoNext(self)</a></h4>
<p>Advance the choice forwards one.</p>
<p>Returns True if successful or False if unable to (eg. already at end).</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.gotoPrev" name="symbol-Chooser.gotoPrev">gotoPrev(self)</a></h4>
<p>Backstep the choice backwards one.</p>
<p>Returns True if successful or False if unable to (eg. already at start).</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.main" name="symbol-Chooser.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
<div class="section">
<h4><a id="symbol-Chooser.shutdown" name="symbol-Chooser.shutdown">shutdown(self)</a></h4>
<p>Returns True if a shutdownMicroprocess message was received.</p>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.html">Util</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.html">Chooser</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Util.Chooser.ForwardIteratingChooser.html">ForwardIteratingChooser</a></h1>
<div class="section">
<h2 id="symbol-ForwardIteratingChooser">class ForwardIteratingChooser(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Chooser([items]) -&gt; new Chooser component.</p>
<p>Iterates through an iterable set of items. Step by sending &quot;NEXT&quot; messages to
its &quot;inbox&quot; inbox.</p>
<p>Keyword arguments:
- items  -- iterable source of items to be chosen from (default=[])</p>
<div class="section">
<h3><a id="symbol-ForwardIteratingChooser.Inboxes" name="symbol-ForwardIteratingChooser.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : shutdown messages</li>
<li><strong>inbox</strong> : receive commands</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-ForwardIteratingChooser.Outboxes" name="symbol-ForwardIteratingChooser.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : emits chosen items</li>
<li><strong>signal</strong> : shutdown messages</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-ForwardIteratingChooser.__init__" name="symbol-ForwardIteratingChooser.__init__">__init__(self[, items])</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-ForwardIteratingChooser.getCurrentChoice" name="symbol-ForwardIteratingChooser.getCurrentChoice">getCurrentChoice(self)</a></h4>
<p>Return the current choice</p>
</div>
<div class="section">
<h4><a id="symbol-ForwardIteratingChooser.gotoNext" name="symbol-ForwardIteratingChooser.gotoNext">gotoNext(self)</a></h4>
<p>Advance the choice forwards one.</p>
<p>Returns True if successful or False if unable to (eg. already at end).</p>
</div>
<div class="section">
<h4><a id="symbol-ForwardIteratingChooser.main" name="symbol-ForwardIteratingChooser.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
<div class="section">
<h4><a id="symbol-ForwardIteratingChooser.shutdown" name="symbol-ForwardIteratingChooser.shutdown">shutdown(self)</a></h4>
<p>Returns True if a shutdownMicroprocess message was received.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</i>
</body></html>

                </div> 
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home>5D">Kamaelia</a>
    is an open source project originated from and guided by BBC
    Research. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved.
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



