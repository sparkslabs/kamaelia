<html>
<head>
<title> Components/pydoc/Kamaelia.UI.Pygame.Ticker </title>
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span> 
  </b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twelveC column"> 
                <html>
<head>
<title>Kamaelia docs : Kamaelia.UI.Pygame.Ticker</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.html">UI</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.html">Pygame</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.html">Ticker</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.Ticker.html">Ticker</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#389">Pygame text 'Ticker'</a><ul>
<li><a class="reference" href="#390">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#391">How does it work?</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="389">Pygame text 'Ticker'</h1>
<p>Displays text in pygame a word at a time as a 'ticker'.</p>
<p>NOTE: This component is very much a work in progress. Its capabilities and API
is likely to change substantially in the near future.</p>
<div class="section">
<h2 id="390"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Ticker displaying text from a file:</p>
<pre class="literal-block">
Pipeline( RateControlledFileReader(&quot;textfile&quot;,&quot;lines&quot;,rate=1000),
          Ticker(position=(100,100))
        ).run()
</pre>
</div>
<div class="section">
<h2 id="391"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>The component requests a display surface from the Pygame Display service
component. This is used as the ticker.</p>
<p>Send strings containing <em>lines of text</em> to the Ticker component. Do not send
strings with words split between one string and the next. It displays the
words as a 'ticker' one word at a time. Text is automatically wrapped from one
line to the next. Once the bottom of the ticker is reached, the text
automatically jump-scrolls up a line to make more room.</p>
<p>The text is normalised by the ticker. Multiple spaces between words are
collapsed to a single space. Linefeeds are ignored.</p>
<p>NOTE: 2 consecutive linefeeds currently results in a special message being
sent out of the &quot;_displaysignal&quot; outbox. This is work-in-progress aimed at new features.
It is only documented here for completeness and should not be relied upon.</p>
<p>You can set the text size, colour and line spacing. You can also set the
background colour, outline (border) colour and width. You can also specify the
size and position of the ticker</p>
<p>NOTE: Specifying the outline width currently does not work for any value other
than 1.</p>
<p>NOTE: Specify the size of the ticker with the render_right and render_bottom
arguments. Specifying render_left and render_top arguments with values other
than 1 results in parts of the ticker being obscured.</p>
<p>The ticker displays words at a constant rate - it self regulates its display
speed.</p>
<p>Whilst it is running, sending any message to the &quot;pausebox&quot; inbox will pause
the Ticker. It will continue to buffer incoming text. Any message sent to the
&quot;unpausebox&quot; inbox will cause the Ticker to resume.</p>
<p>Whilst running, you can change the transparency of the ticker by sending a value
to the &quot;alphacontrol&quot; inbox between 0 (fully transparent) and 255 (fully opaque)
inclusive.</p>
<p>If a producerFinished message is received on the &quot;control&quot; inbox, this component
will send its own producerFinished message to the &quot;signal&quot; outbox and will
terminate.</p>
<p>However, if the ticker is paused (message sent to &quot;pausebox&quot; inbox) then the
component will ignore messages on its &quot;control&quot; inbox until it is unpaused by
sending a message to its &quot;unpausebox&quot; inbox.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.html">UI</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.html">Pygame</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.html">Ticker</a>.<a class="reference" href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.Ticker.html">Ticker</a></h1>
<div class="section">
<h2 id="symbol-Ticker">class Ticker(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Ticker(...) -&gt; new Ticker component.</p>
<p>A pygame based component that displays incoming text as a ticker.</p>
<p>Keyword arguments (all optional):</p>
<ul class="simple">
<li>text_height        -- Font size in points (default=39)</li>
<li>line_spacing       -- (default=text_height/7)</li>
<li>background_colour  -- (r,g,b) background colour of the ticker (default=(128,48,128))</li>
<li>text_colour        -- (r,g,b) colour of text (default=(232,232,48))</li>
<li>outline_colour     -- (r,g,b) colour of the outline border (default=background_colour)</li>
<li>outline_width      -- pixels width of the border (default=1)</li>
<li>position           -- (x,y) pixels location of the top left corner</li>
<li>render_left        -- pixels distance of left of text from left edge (default=1)</li>
<li>render_top         -- pixels distance of top of text from top edge (default=1)</li>
<li>render_right       -- pixels width of ticker (default=399)</li>
<li>render_bottom      -- pixels height of ticker (default=299)</li>
</ul>
<p>NOTE: render_left and render_top currently behave incorrectly if not set to 1</p>
<div class="section">
<h3><a id="symbol-Ticker.Inboxes" name="symbol-Ticker.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : NOT USED (yet)</li>
<li><strong>_displaycontrol</strong> : Shutdown messages &amp; feedback from Pygame Display service</li>
<li><strong>unpausebox</strong> : Any message unpauses the ticker</li>
<li><strong>pausebox</strong> : Any message pauses the ticker</li>
<li><strong>inbox</strong> : Specify (new) filename</li>
<li><strong>alphacontrol</strong> : Transparency of the ticker (0=fully transparent, 255=fully opaque)</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-Ticker.Outboxes" name="symbol-Ticker.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : NOT USED (yet)</li>
<li><strong>_displaysignal</strong> : Shutdown signalling &amp; sending requests to Pygame Display service</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-Ticker.__init__" name="symbol-Ticker.__init__">__init__(self, **argd)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-Ticker.clearDisplay" name="symbol-Ticker.clearDisplay">clearDisplay(self)</a></h4>
<p>Clears the ticker of any existing text.</p>
</div>
<div class="section">
<h4><a id="symbol-Ticker.handleAlpha" name="symbol-Ticker.handleAlpha">handleAlpha(self)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Ticker.main" name="symbol-Ticker.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
<div class="section">
<h4><a id="symbol-Ticker.renderBorder" name="symbol-Ticker.renderBorder">renderBorder(self, display)</a></h4>
<p>Draws a rectangle to form the 'border' of the ticker</p>
</div>
<div class="section">
<h4><a id="symbol-Ticker.requestDisplay" name="symbol-Ticker.requestDisplay">requestDisplay(self, **argd)</a></h4>
<p>Generator. Gets a display surface from the Pygame Display service.</p>
<p>Makes the request, then yields 1 until a display surface is returned.</p>
</div>
<div class="section">
<h4><a id="symbol-Ticker.waitBox" name="symbol-Ticker.waitBox">waitBox(self, boxname)</a></h4>
<p>Generator. yields 1 until data ready on the named inbox.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</i>
</body></html>

                </div> 
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home>5D">Kamaelia</a>
    is an open source project originated from and guided by BBC
    Research. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved.
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



