<html>
<head>
<title> Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness </title>
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span> 
  </b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twelveC column"> 
                <html>
<head>
<title>Kamaelia docs : Kamaelia.Protocol.AIM.AIMHarness</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.html">AIM</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness.html">AIMHarness</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness.AIMHarness.html">AIMHarness</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#623">AIM Harness</a><ul>
<li><a class="reference" href="#624">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#625">How it works</a><ul>
</ul>
</li>
<li><a class="reference" href="#626">Known issues</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="623">AIM Harness</h1>
<p>Provides a high-level Kamaelia interface to AIM.</p>
<p>For a Kamaelia interface at the FLAP and SNAC levels, see OSCARClient.py</p>
<div class="section">
<h2 id="624"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>A simple command-line client with a truly horrible interface:</p>
<pre class="literal-block">
def tuplefy(data):
    data = data.split()
    if len(data) &gt; 1:
        data = (&quot;message&quot;, data[0], &quot; &quot;.join(data[1:]))
        return data

Pipeline(ConsoleReader(),
         PureTransformer(tuplefy),
         AIMHarness(),
         ConsoleEchoer()
        ).run()
</pre>
</div>
<div class="section">
<h2 id="625"><a id="how-it-works" name="how-it-works">How it works</a></h2>
<p>AIMHarness ties LoginHandler and ChatManager together. First it initializes a
LoginHandler, waits for it to send out a logged-in OSCARClient, then wires up a
ChatManager to the OSCARClient. It wires up its &quot;inbox&quot; to ChatManager's &quot;talk&quot;,
and ChatManager's &quot;heard&quot; to &quot;outbox&quot;.</p>
<p>Once everything is up and functioning, the AIMHarness will stay running to act as
an intermediary to pass messages between the OSCARClient and the ChatManager, but
the AIMHarness will not act upon any of the information other than to pass it.</p>
<p>To send an instant message to another user, send the command
(&quot;message&quot;, recipient, text of the message) to its &quot;inbox&quot;.</p>
<p>AIMHarness will send out the following notifications through its &quot;outbox&quot;:</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">NOTIFICATION</th>
<th class="head">EVENT</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>(&quot;buddy online&quot;, {buddy information})</td>
<td>A buddy comes online</td>
</tr>
<tr><td>(&quot;message&quot;, sender, message text)</td>
<td>An instant message arrives for you</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h2 id="626"><a id="known-issues" name="known-issues">Known issues</a></h2>
<p>This component does not terminate.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="/Components/pydoc/Kamaelia.html">Kamaelia</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.html">AIM</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness.html">AIMHarness</a>.<a class="reference" href="/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness.AIMHarness.html">AIMHarness</a></h1>
<div class="section">
<h2 id="symbol-AIMHarness">class AIMHarness(<a class="reference" href="/Docs/Axon/Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>AIMHarness() -&gt; new AIMHarness component</p>
<p>Send (&quot;message&quot;, recipient, message) commands to its &quot;inbox&quot; to send
instant messages. It will output (&quot;buddy online&quot;, {name: buddyname}) and
(&quot;message&quot;, sender, message) tuples whenever a buddy comes online or a new
message arrives for you.</p>
<div class="section">
<h3><a id="symbol-AIMHarness.Inboxes" name="symbol-AIMHarness.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : NOT USED</li>
<li><strong>internal control</strong> : links to signal outbox of various child components</li>
<li><strong>inbox</strong> : tuple-based commands for ChatManager</li>
<li><strong>internal inbox</strong> : links to various child components</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-AIMHarness.Outboxes" name="symbol-AIMHarness.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : tuple-based notifications from ChatManager</li>
<li><strong>signal</strong> : NOT USED</li>
<li><strong>internal signal</strong> : sends shutdown handling signals to various child components</li>
<li><strong>internal outbox</strong> : outbox to various child components</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
<div style="float: right; border: solid;" class="twoC"> <p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div></div>
<div class="section">
<h4><a id="symbol-AIMHarness.__init__" name="symbol-AIMHarness.__init__">__init__(self, screenname, password)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-AIMHarness.main" name="symbol-AIMHarness.main">main(self)</a></h4>
<p>Waits for logged-in OSCARClient and links it up to ChatManager</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</i>
</body></html>

                </div> 
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home>5D">Kamaelia</a>
    is an open source project originated from and guided by BBC
    Research. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved.
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



