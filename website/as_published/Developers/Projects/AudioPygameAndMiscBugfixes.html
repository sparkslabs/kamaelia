<html>
<head>
<title> Developers/Projects/AudioPygameAndMiscBugfixes </title>
<meta name="description" content="Kamaelia - making concurrency simpler in python - Developers/Projects/AudioPygameAndMiscBugfixes">
<meta name="keywords" content="python concurrency generators threads processes component system experts beginners media networking">
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
<span class="largertext">&nbsp;</span>
<!--   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span>  -->
<!--  </b> -->
</b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twoC column">
                    &nbsp;
                </div>
                <div class="eightC column">
                

















<h2>Project Task Page: PyMedia Audio, Pygame and misc bugfixes<br></h2>
<p><div style="float: right; border: solid;" class="twoC"><b> Status:</b> Completed<br><b>Current Developers: </b> <i>MH</i>, MS<br><b>Current "inflight" dev location:</b> /branches/private_MH_20070423_kamaelia_bugfixes<br><b>Start Date:</b> <i>23 April 2007</i><br><b>Expected End Date:</b> 30 April 2007<br><b>End Date:</b> 27 April 2007<br><b>Date this page last updated:</b> <i>30 April 2007</i><br><b>Estimated effort so far:</b> 2.0<br></div><b><br></b></p><h2><b>Description</b></h2><p><b>Bugfixes</b> to fix following:</p><ul><li>Kamaelia.Audio.PyMedia.Input - not working under win32 (noSpaceInBox exceptions) (<a href="http://sourceforge.net/mailarchive/forum.php?thread_name=96d4cf580704181815u6b99f9acyef8d65e98b72633f%40mail.gmail.com&amp;forum_name=kamaelia-list">see mailing list</a>)<br></li><li>Kamaelia.UI.Pygame.Display - not working under win32 and MacOSX (freezes/unresponsive to keyboard/mouse interaction) (<a href="http://koala.ilog.fr/twikiirc/bin/irclogger_log/kamaelia?date=2007-04-23,Mon&amp;sel=15#l11">see IRC logs</a>)<br></li><li>Kamaelia.Util.Chooser - not quiescent</li><li>Kamaelia example "Show.py" raises exception on startup: (<a href="http://koala.ilog.fr/twikiirc/bin/irclogger_log/kamaelia?date=2007-04-23,Mon&amp;sel=226#l222">see IRC logs</a>)</li></ul><h2>Inputs</h2><ul><li>Task Sponsor: MH</li><li>Task Owner: MH<br></li><li>Developers: MH, MS<br></li><li>Users: MH, _eris (IRC), David Montgomery<br></li><li>Interested third parties: MS</li><li>Requirements</li><ul><li>MUST fix the bugs so the problem doesn't occur</li><li>SHOULD not result in any foreseeable regressions<br></li></ul></ul><h2>Outputs</h2><h3>Expected</h3><ul><li>Modifications to:</li><ul><li>/Code/Python/Kamaelia/Kamaelia/UI/Pygame/Display.py</li><li>/Code/Python/Kamaelia/Kamaelia/Audio/PyMedia/Input.py</li><li>/Code/Python/Kamaelia/Kamaelia/Util/Chooser.py</li><li>/Code/Python/Kamaelia/Kamaelia/Tools/Show.py</li></ul></ul><h3>Actual</h3><ul><li>Branch /branches/private_MH_20070423_kamaelia_bugfixes/</li><li>...containing modifications to:</li><ul><li>/Code/Python/Kamaelia/Kamaelia/Audio/Input/PyMedia/Input.py</li><li>/Code/Python/Kamaelia/Kamaelia/UI/Pygame/Display.py</li><li>/Code/Python/Kamaelia/Kamaelia/Util/Chooser.py<br>
</li><li>/Code/Python/Kamaelia/Tools/Show/GraphSlides.py</li><li>/Code/Python/Kamaelia/Kamaelia/Support/Data/Experimental.py</li></ul><li>... which were merged into /trunk<br></li></ul><h3>Realistic possibilities arising as a result of activity on this task</h3><p>none<br></p><h2>Related Tasks</h2><h3>Tasks that directly enable this task (dependencies)</h3>none<br><h3>Sub Tasks</h3><ul><li>Branch containing modifications</li><li>Merge of branch</li></ul><h2>Task Log</h2><ul><li>2007 04 22 : <b>Task status changed</b> to running</li><li>2007 04 22 : Added developer MH</li><li>2007 04 22 : Fixed PyMedia Input code in private Sketches area. Tested by MH under win32.<br></li><li>2007 04 23 : Created branch /branches/private_MH_20070423_kamaelia_bugfixes/</li><li>2007 04 23 : Fixed PyGame Display bug. Verified working on win32 by MH and MacOSX by eris_</li><li>2007 04 23 : Imported fixed PyMedia Input code from Sketches</li><li>2007 04 23 : Fixed quiescence in Chooser - tested by MH in Show.py tool<br></li><li>2007 04 25 : Time spent 1.5 days</li><li>2007 04 22 : <b>Task status changed</b> to stasis - waiting for test feedback from David Montgomery</li><li>2007 04 27 : Removed developer MH</li><li>2007 04 27 : Added developer MS</li><li>2007 04 27 : <b>Task status changed</b> to running - decided to proceed anyway (MH has already tested on win32)</li><li>2007 04 27 : Branch merged</li><li>2007 04 27 : <b>Task status changed</b> to completed</li><li>2007 04 27 : Time spend 0.5 days<br></li></ul><h2>Discussion</h2><p><font color="#cc0000">Note this branch was renamed (logged by svn as a copy operation). <b>The original branch point is revision r2887</b>. The renaming occurred at revision r2899.<br></font><br></p><p>PyMedia Input bug was two-fold:</p><ul><li>Not handling when pymedia returns "None" instead of string like (not actually string) data; or empty strings</li><li>Not handling noSpaceInBox exceptions - more likely if pumping out small fragments of data, and never really pausing/waiting<br></li></ul><p>PyGame Display bug:</p><ul><li>win32 and MacOSX limitations in pygame/SDL require the display to be initialised, and event handling to be done in the application's main thread - not a child thread. Fixed by moving everything into the main thread, but still keeping the child thread as a passive observer that makes sure the main component gets woken up if events are waiting.</li></ul>show.py bug:<br><ul><li>misunderstood use of the xml.sax.make_parser call - should have provided a list of strings as an argument rather than a string. Seems to work on Linux on test machines used by MS and MH, but problem shows up on win32 and MacOSX.<br></li></ul>-- Matt, 25 April 2007<br><br>



                </div>
                <div class="twoC column last">
                    &nbsp;
                </div>
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home.html">Kamaelia</a>
    is an open source project originated from and guided by <a href="http://www.bbc.co.uk/rd"> BBC 
    Research</a>. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



