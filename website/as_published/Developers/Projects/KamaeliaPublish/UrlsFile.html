<html>
<head>
<title> Developers/Projects/KamaeliaPublish/UrlsFile </title>
<meta name="description" content="Kamaelia - making concurrency simpler in python - Developers/Projects/KamaeliaPublish/UrlsFile">
<meta name="keywords" content="python concurrency generators threads processes component system experts beginners media networking">
<link rel=stylesheet type="text/css" href="/newcss.css">
  </head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>

<div id="centreinbrowser">
    <table><tr><td>
        <div id="contentwrapper">
            <div id="contentpanel">
                <div class="column twoC largertext">  &nbsp; </div>
                <div class="column twoC largertext">  &nbsp;  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b><a href="/Home.html"> Home</a></b> </div>
                <div class="column twoC largertext"> 
<P class="orange" align="center"> 
<b><a href="/About.html" class="smallertext">About</a>, 
<a href="/Sitemap.html" class="smallertext">Index</a>, 
<a href="/RecentChanges.html" class="smallertext">Changes</a></b>
  </div>
                <div class="column twoC largertext"> <P class="orange" align="center">  <b> <a href="/Developers/">Developers</a> </b> </div>
                <div class="column last twoC"> <P class="orange" align="center"> 
<b>
<span class="largertext">&nbsp;</span>
<!--   <span class="largertext"><a href="/UserLogin.html">Login</a>/<a href="/UserRegistration.html">Register</a> </span>  -->
<!--  </b> -->
</b>
 </div>

<div class="divide"></div>
                <div id="masthead">
                    &nbsp;
                    <br>
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column">
                    &nbsp;
                </div>
                <div class="fourC column last">
                    &nbsp;
                </div>
<div class="divide"></div>
                <div class="twoC column">
                    &nbsp;
                </div>
                <div class="eightC column">
                


















<h2>What is a URL file and how do I make one?</h2><br>A URL file is a standard INI file for routing web content.&nbsp; It is designed to route a web request to the proper WSGI application.&nbsp; It is divided up into sections and each section is further subdivided into options.&nbsp; An example is this section for the built-in WSGI application simple_app:<br><br><br>[simple_app]<br>regex: simple<br>import_path: Kamaelia.Apps.WSGI.Simple<br>app_object: simple_app<br><br><br>This demonstrates the three most important settings in the URL file:&nbsp; the regex, the import_path, and the app_object.&nbsp; Except in the instance of the 404 handler, the section heading (the part in brackets) is mostly irrelevant.<br><br><b>regex - </b>This is the regex that is used to determine if a URL matches this application.&nbsp; It is only tested against the first directory in the URI.&nbsp; Therefore, this regex would match www.domain.com/simple but not www.domain.com/blah/simple.&nbsp; Please note that a regex <b>should not</b> be entered for the 404 handler.&nbsp; It is assumed to be ".*"<br><br><b>import_path - </b>This is the path to import the module containing the WSGI application object.<br><br><b>app_object -&nbsp; </b>This is the name of the application object within the module represented by import_path.&nbsp; Thus, for this example, the server would pull the function simple_app out of plugins.WsgiApps.simple_app.&nbsp; If this is omitted, it is assumed to be "application".<br><br>Please also note that order <i>is</i> important in the URL file.&nbsp; The application listed first will be the first one that is evaluated.<br><br>Every URLs file must also have a 404 handler.&nbsp; It will be automatically assigned a regex of ".*".&nbsp; It will be evaluated last in the URL routing no matter what position it is put in the list, but it is typically a good idea to put it last in the URL list anyway.<br><br>Any option in the URLs file will be passed to the WSGI application as an environment variable and will be prepended with "kp" to distinct them as Kamaelia Publish specific settings (although this will be present in Kamaelia WebServe).&nbsp; Thus, some applications require their own custom settings.&nbsp; Take for instance the built-in Paste application handler (assuming that you want to serve a paste system described by a config file config.ini):<br><br>[paste_app]<br>regex: paste<br>import_path:&nbsp; Kamaelia.Apps.WSGI.PasteApp<br>paste_source: config:/path/to/config.ini<br><br>The custom keys 'kp.regex', 'kp.import_path', and 'kp.paste_source' will be passed to the application with the values 'paste', 'Kamaelia.Apps.WSGI.Paste', and '/path/to/config.ini', respectively.<br>



                </div>
                <div class="twoC column last">
                    &nbsp;
                </div>
                <div id="footer">
                    &nbsp;
                    <br>&nbsp;
                </div>


<div class="divide"></div>
            </div>
        </div>
    </td></tr></table>


<hr>
<div id="aboutblock" style="text-align: left"; padding-left: 1em;>
<font size="-2">
   <P><img src="http://www.kamaelia.org/images/BBC-ResearchLogo-Small.png"
style="float: left; padding-right: 10px; margin-bottom: 3em;"> <a href="http://www.kamaelia.org/Home.html">Kamaelia</a>
    is an open source project originated from and guided by <a href="http://www.bbc.co.uk/rd"> BBC 
    Research</a>. For more information browse the site or get in 
    <a href="/Contact.html">contact</a>.
   <P>This is an ongoing community based development site. As a result the
   contents of this page is the opinions of the contributors of the pages
   involved not the organisations involved. Specificially, this page may
   contain personal views which are not the views of the BBC. (the site is
   powered by a wiki engine)
   <P>(C) Copyright 2008 Kamaelia Contributors, including the British
   Broadcasting Corporation, All Rights Reserved
</font>
</div>
</div>
<div style="display:none">
This web site is powered by the same code created for the
<a href="http://www.bickermanor.org/"> bicker manor</a> project. For more
details, contact Michael Sparks at BBC Research directly (cf contact)
</div>
</body>
</html>



