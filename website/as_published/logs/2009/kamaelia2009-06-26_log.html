<html><body><table>
            <tr><td>[03:14] *** eikenberry_ has joined #kamaelia</td></tr>
            <tr><td>[04:51] *** Lawouach_ has joined #kamaelia</td></tr>
            <tr><td>[05:48] &lt Lawouach_&gt freaking memory leak is still there</td></tr>
            <tr><td>[05:48] &lt Lawouach_&gt raaah</td></tr>
            <tr><td>[05:48] &lt Lawouach_&gt misery</td></tr>
            <tr><td>[06:00] *** Lawouach_ doesn't understand how the debug work in Axon</td></tr>
            <tr><td>[06:01] &lt Lawouach_&gt it seems a debug object is created by default for every component</td></tr>
            <tr><td>[06:01] &lt Lawouach_&gt how do I get its trace?</td></tr>
            <tr><td>[06:03] &lt Lawouach_&gt let's see the introspector</td></tr>
            <tr><td>[06:03] &lt Lawouach_&gt I'm a crazy man</td></tr>
            <tr><td>[06:04] &lt MS-&gt This way:</td></tr>
            <tr><td>[06:04] &lt MS-&gt http://code.google.com/p/kamaelia/source/browse/trunk/Sketches/JL/IRC/frozen/IRCClient.py</td></tr>
            <tr><td>[06:04] &lt MS-&gt you add some debug sections, as per lines 83 & 84</td></tr>
            <tr><td>[06:04] &lt MS-&gt then use it as per line 127</td></tr>
            <tr><td>[06:04] &lt MS-&gt assert self.debugger.note('IRCClient.main', 5, 'received talk ' + str(data))</td></tr>
            <tr><td>[06:05] &lt MS-&gt In some versions of python (not all it seems) asserts are not compiled</td></tr>
            <tr><td>[06:05] &lt MS-&gt if you use one of the -O switches</td></tr>
            <tr><td>[06:05] &lt MS-&gt which is why it uses assert</td></tr>
            <tr><td>[06:05] &lt MS-&gt The arguments to debugger.note are</td></tr>
            <tr><td>[06:05] &lt MS-&gt &lt section&gt, &lt debug level&gt , &lt what to display&gt</td></tr>
            <tr><td>[06:06] &lt MS-&gt in debugger.addDebugSection , the arguments are</td></tr>
            <tr><td>[06:06] &lt MS-&gt &lt section&gt, &lt max level of debugging to show&gt</td></tr>
            <tr><td>[06:07] &lt MS-&gt It was developed *very* early on in Axon's life, and I thought it didn't work after the move TO Sourceforge, so I was surprised to see it still worked when Jinna used it</td></tr>
            <tr><td>[06:07] &lt MS-&gt :)</td></tr>
            <tr><td>[06:08] &lt MS-&gt It can also take a debug.conf file, which provides lots of defaults, but it looked in a specific place, and crashed otherwise (deliberately)</td></tr>
            <tr><td>[06:08] &lt MS-&gt And that part was more pain than wanted, so that got switched off</td></tr>
            <tr><td>[06:08] &lt MS-&gt Hence my surprise when Jinna used it and it still worked</td></tr>
            <tr><td>[06:10] &lt MS-&gt I need to add it to the list of stuff to improve</td></tr>
            <tr><td>[06:10] &lt MS-&gt Reinstating it to use inheritable defaults now would be really quite useful</td></tr>
            <tr><td>[06:11] &lt MS-&gt or something like</td></tr>
            <tr><td>[06:11] &lt MS-&gt class ...(..component):</td></tr>
            <tr><td>[06:11] &lt MS-&gt  debugSections = {</td></tr>
            <tr><td>[06:11] &lt MS-&gt  &lt sdfsdf&gt ....</td></tr>
            <tr><td>[06:11] &lt MS-&gt  }</td></tr>
            <tr><td>[06:11] &lt MS-&gt since you'd be able to override that at constructor time then</td></tr>
            <tr><td>[06:11] &lt MS-&gt ie debug on a per object basis</td></tr>
            <tr><td>[06:12] &lt Lawouach_&gt sorry I got distracted</td></tr>
            <tr><td>[06:12] &lt Lawouach_&gt erading back</td></tr>
            <tr><td>[06:12] &lt MS-&gt np</td></tr>
            <tr><td>[06:13] &lt MS-&gt Jinna's AIM code also appears to use it somewhat: http://code.google.com/p/kamaelia/source/browse/trunk/Sketches/JL/AIM_</td></tr>
            <tr><td>[06:14] &lt Lawouach_&gt hmm</td></tr>
            <tr><td>[06:14] &lt Lawouach_&gt does it mean I have to do that for every single component I want to debug?</td></tr>
            <tr><td>[06:14] &lt Lawouach_&gt hmm that sounds tedious :)</td></tr>
            <tr><td>[06:14] &lt Lawouach_&gt First I want to check that introspector</td></tr>
            <tr><td>[06:14] &lt Lawouach_&gt I'm pretty sure I have some trailing references</td></tr>
            <tr><td>[06:15] &lt Lawouach_&gt I need find where :)</td></tr>
            <tr><td>[06:15] *** MS- nods</td></tr>
            <tr><td>[06:15] &lt MS-&gt The wakeable introspector is useful for seeing what's live</td></tr>
            <tr><td>[06:15] &lt MS-&gt But not dead references</td></tr>
            <tr><td>[06:15] &lt MS-&gt For that you need to compare with garbage</td></tr>
            <tr><td>[06:16] &lt Lawouach_&gt yeah but that's my issue</td></tr>
            <tr><td>[06:17] &lt MS-&gt Really need to componentise that.</td></tr>
            <tr><td>[06:17] &lt MS-&gt I was doing it manually last time.</td></tr>
            <tr><td>[06:17] &lt Lawouach_&gt whenever I call gc.collect() after I got a list of objects in gc.garbage, it actually frees up the memory</td></tr>
            <tr><td>[06:17] &lt Lawouach_&gt it's like a bad joke</td></tr>
            <tr><td>[06:17] &lt MS-&gt That means you don't have a leak</td></tr>
            <tr><td>[06:17] &lt MS-&gt Not an official</td></tr>
            <tr><td>[06:17] &lt MS-&gt one at least</td></tr>
            <tr><td>[06:18] &lt MS-&gt It just means that memory usage with have a "saw" shape until the gc runs</td></tr>
            <tr><td>[06:18] &lt MS-&gt which it does periodically</td></tr>
            <tr><td>[06:19] &lt Lawouach_&gt right</td></tr>
            <tr><td>[06:19] &lt Lawouach_&gt that makes sense</td></tr>
            <tr><td>[06:43] &lt Lawouach_&gt Hmm the introspector works but I don't see anything with AxonVisualiser</td></tr>
            <tr><td>[06:43] &lt Lawouach_&gt the window opens up but nothing is ever displayed</td></tr>
            <tr><td>[06:43] &lt Lawouach_&gt any hints?</td></tr>
            <tr><td>[06:49] *** Uraeus has joined #kamaelia</td></tr>
            <tr><td>[06:51] &lt MS-&gt How are you running the axon visualiser ?</td></tr>
            <tr><td>[06:52] &lt MS-&gt Built in? standalone? If standalone as a server, you are sending it details ? (As per the examples in /Examples ? :) )</td></tr>
            <tr><td>[06:52] &lt MS-&gt (silly random qs)</td></tr>
            <tr><td>[06:52] &lt MS-&gt http://www.kamaelia.org/AxonVisualiser also has some details</td></tr>
            <tr><td>[06:52] &lt Lawouach_&gt Pipeline(Introspector(),</td></tr>
            <tr><td>[06:52] &lt Lawouach_&gt  AxonVisualiser()).run()</td></tr>
            <tr><td>[06:53] &lt Lawouach_&gt With my XMPP client activated before that</td></tr>
            <tr><td>[06:53] &lt MS-&gt http://www.kamaelia.org/Components/pydoc/Kamaelia.Util.Introspector says that will fail</td></tr>
            <tr><td>[06:54] &lt MS-&gt MyComplexSystem().activate()</td></tr>
            <tr><td>[06:54] &lt MS-&gt Pipeline( Introspector(),</td></tr>
            <tr><td>[06:54] &lt MS-&gt  text_to_token_lists(),</td></tr>
            <tr><td>[06:54] &lt MS-&gt  AxonVisualiser(), )</td></tr>
            <tr><td>[06:54] &lt MS-&gt Example has a missing ,</td></tr>
            <tr><td>[06:54] &lt MS-&gt OK, I have to go afk back later</td></tr>
            <tr><td>[06:54] &lt MS-&gt hope that helps :)</td></tr>
            <tr><td>[06:54] &lt MS-&gt cya</td></tr>
            <tr><td>[06:54] *** MS- has parted #kamaelia</td></tr>
            <tr><td>[06:55] &lt Lawouach_&gt cya</td></tr>
            <tr><td>[06:55] &lt Lawouach_&gt ta</td></tr>
            <tr><td>[07:01] &lt Lawouach_&gt right it worked better text_to_token_lists</td></tr>
            <tr><td>[07:01] &lt Lawouach_&gt though now it crashes when I run the program</td></tr>
            <tr><td>[07:01] &lt Lawouach_&gt :p</td></tr>
            <tr><td>[07:24] &lt Lawouach_&gt ah ah fixed with the latest svn release of pygame</td></tr>
            <tr><td>[07:26] &lt Lawouach_&gt it's awesome</td></tr>
            <tr><td>[07:26] &lt Lawouach_&gt I love it</td></tr>
            <tr><td>[07:26] &lt Lawouach_&gt why haven't used it before?</td></tr>
            <tr><td>[07:27] &lt Lawouach_&gt and it proves I don't have a leak in regards to trailing components and linkages because each time the client shutsdown I'm back to my initiali state of graph</td></tr>
            <tr><td>[07:27] &lt Lawouach_&gt just the visualiser</td></tr>
            <tr><td>[07:57] *** vmlemon_ has joined #kamaelia</td></tr>
            <tr><td>[08:06] *** MS- has joined #kamaelia</td></tr>
            <tr><td>[08:06] &lt MS-&gt back</td></tr>
            <tr><td>[08:07] &lt MS-&gt Glad you like the visualiser. It's really neat to watch connections starting & finishing on a server IMO :)</td></tr>
            <tr><td>[08:20] *** vmlemon_ has joined #kamaelia</td></tr>
            <tr><td>[08:30] &lt Lawouach&gt my xmpp lib has so many connections it becomes quickly tedious to actually make anything of it</td></tr>
            <tr><td>[08:30] &lt Lawouach&gt but I'm glad I saw the connections being correctly dropped</td></tr>
            <tr><td>[08:31] &lt MS-&gt Indeed</td></tr>
            <tr><td>[08:31] &lt MS-&gt The problem with the introspector at present is that it doesn't provide nested data at present, and the visualiser can't handle nesting</td></tr>
            <tr><td>[08:31] &lt MS-&gt Would be a great thing for someone to work on</td></tr>
            <tr><td>[08:34] &lt Lawouach&gt yeah</td></tr>
            <tr><td>[08:38] &lt Lawouach&gt interestingly the creation of the xmpp client, which has so many children and linkages, is hitting the CPU rather hard</td></tr>
            <tr><td>[08:44] &lt MS-&gt Makes it a useful test case for future optimisations then :)</td></tr>
            <tr><td>[08:44] &lt MS-&gt ie for getting it running with this: http://code.google.com/p/kamaelian/source/browse/sketches/Axon</td></tr>
            <tr><td>[08:44] &lt MS-&gt which is still in progress</td></tr>
            <tr><td>[08:50] &lt Lawouach&gt :)</td></tr>
            <tr><td>[08:50] &lt Lawouach&gt I think the hit comes from the amount of object creation</td></tr>
            <tr><td>[08:51] &lt Lawouach&gt I'm still unsure whether or not a debug object isn't created by default no matter what</td></tr>
            <tr><td>[08:51] &lt MS-&gt I think the issue is also that python objects are relatively expensive in those terms</td></tr>
            <tr><td>[08:51] &lt Lawouach&gt which for instance is rather useless</td></tr>
            <tr><td>[08:51] &lt MS-&gt The debug object is probably created by default</td></tr>
            <tr><td>[08:51] &lt MS-&gt But IIRC it's a global debugger</td></tr>
            <tr><td>[08:51] &lt MS-&gt not local</td></tr>
            <tr><td>[08:51] &lt MS-&gt I think it's a shared reference</td></tr>
            <tr><td>[08:51] &lt MS-&gt It's old code</td></tr>
            <tr><td>[08:52] &lt MS-&gt I'd been meaning to either delete it or revamp it</td></tr>
            <tr><td>[08:52] &lt MS-&gt Yep you get one:</td></tr>
            <tr><td>[08:53] &lt MS-&gt  # If the client has defined a debugger in their class we don't want to override it.</td></tr>
            <tr><td>[08:53] &lt MS-&gt  # However if they haven't, we provide them with one</td></tr>
            <tr><td>[08:53] &lt MS-&gt In microprocess.__init__</td></tr>
            <tr><td>[08:53] &lt MS-&gt  if not 'debugger' in self.__dict__.keys():</td></tr>
            <tr><td>[08:53] &lt MS-&gt  self.debugger = debug()</td></tr>
            <tr><td>[08:53] &lt MS-&gt  self.debugger.useConfig()</td></tr>
            <tr><td>[08:53] &lt MS-&gt That's fragile code I note</td></tr>
            <tr><td>[08:53] *** Uraeus has joined #kamaelia</td></tr>
            <tr><td>[08:54] &lt MS-&gt Didn't know that then though :)</td></tr>
            <tr><td>[08:54] &lt MS-&gt Axon.Microprocess has lots of debugging support inside it</td></tr>
            <tr><td>[08:55] &lt Lawouach&gt yeap that was the one I was mentionning</td></tr>
            <tr><td>[08:55] &lt MS-&gt It is actually useful on occasion, when something goes rather wrong</td></tr>
            <tr><td>[08:55] &lt Lawouach&gt yeah but in most cases it's just a useless object created</td></tr>
            <tr><td>[08:55] *** MS- nods</td></tr>
            <tr><td>[08:55] &lt MS-&gt Time to reconsider that then</td></tr>
            <tr><td>[08:56] &lt MS-&gt Actually I wonder how much we'd just "gain" by removing it all...</td></tr>
            <tr><td>[08:56] &lt Lawouach&gt I don't know</td></tr>
            <tr><td>[08:56] &lt MS-&gt Or wrapping in if 0: 's</td></tr>
            <tr><td>[08:56] &lt Lawouach&gt :)</td></tr>
            <tr><td>[08:57] &lt MS-&gt Mind you, back then it was very unclear how everything should work, so it's to be expected :)</td></tr>
            <tr><td>[08:57] &lt Lawouach&gt eh eh</td></tr>
            <tr><td>[08:57] &lt Lawouach&gt well anyway, that's probably only a minor aspect of the Axon's refactoring to come some day :)</td></tr>
            <tr><td>[08:58] &lt MS-&gt The scheduler needs a revamp too. (Which to be fair on self, is where I'm starting)</td></tr>
            <tr><td>[08:58] &lt MS-&gt indeed</td></tr>
            <tr><td>[08:58] &lt MS-&gt The Axon2 code is much cleaner IMO</td></tr>
            <tr><td>[09:46] &lt MS-&gt I'm not at home, but apparently the paper copies of my tutorial are. At least, enough for the people currently signed up :)</td></tr>
            <tr><td>[09:47] &lt Lawouach_&gt :)</td></tr>
            <tr><td>[09:47] &lt Lawouach_&gt when is your talk again?</td></tr>
            <tr><td>[09:47] &lt MS-&gt Sunday morning</td></tr>
            <tr><td>[09:47] &lt MS-&gt 9:15am (!)</td></tr>
            <tr><td>[09:49] &lt Lawouach_&gt early :)</td></tr>
            <tr><td>[09:53] &lt MS-&gt Indeed.</td></tr>
            <tr><td>[09:54] &lt MS-&gt It's why I'm travelling tomorrow really</td></tr>
            <tr><td>[11:36] *** Lawouach__ has joined #kamaelia</td></tr>
            <tr><td>[11:38] *** Lawouach_ has joined #kamaelia</td></tr>
            <tr><td>[11:54] &lt Lawouach_&gt hmm</td></tr>
            <tr><td>[11:58] *** vmlemon_ has joined #kamaelia</td></tr>
            <tr><td>[12:08] *** salmon_ has joined #kamaelia</td></tr>
            <tr><td>[14:03] *** MS- has parted #kamaelia</td></tr>
            <tr><td>[14:51] *** vmlemon has joined #kamaelia</td></tr>
            <tr><td>[15:03] *** Lawouach has joined #kamaelia</td></tr>
            <tr><td>[15:21] *** vmlemon_ has joined #kamaelia</td></tr>
            <tr><td>[15:21] &lt vmlemon_&gt Hi</td></tr>
            <tr><td>[18:00] *** MS- has joined #kamaelia</td></tr>
            <tr><td>[18:00] &lt MS-&gt evening</td></tr>
            <tr><td>[18:00] &lt MS-&gt I have a video camera for recording the tutorial :-)</td></tr>
            <tr><td>[18:00] &lt MS-&gt And other talks at europython</td></tr>
            <tr><td>[18:00] &lt MS-&gt :)</td></tr>
            <tr><td>[18:01] &lt MS-&gt Looking at these handouts, I'm really pleased with them :)</td></tr>
            <tr><td>[18:02] &lt vmlemon_&gt Hi MS-</td></tr>
            <tr><td>[18:02] &lt MS-&gt hiya</td></tr>
            <tr><td>[18:03] &lt vmlemon_&gt Sounds good</td></tr>
            <tr><td>[18:13] &lt MS-&gt Kids are really impressed with them :)</td></tr>
            <tr><td>[18:13] &lt MS-&gt Was trying to figure out how to explain what a conference is</td></tr>
            <tr><td>[18:13] &lt MS-&gt and what a tutorial is</td></tr>
            <tr><td>[18:13] &lt MS-&gt and then I realised</td></tr>
            <tr><td>[18:13] &lt MS-&gt It's just "show and tell" from their perspective :)</td></tr>
            <tr><td>[18:14] &lt vmlemon_&gt Heh</td></tr>
            <tr><td>[19:29] *** salmon_ has joined #kamaelia</td></tr>
            <tr><td>[22:44] *** eikenberry_ has joined #kamaelia</td></tr>
