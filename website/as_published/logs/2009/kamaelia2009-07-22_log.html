<html><body><table>
            <tr><td>[03:29] *** Lawouach has joined #kamaelia</td></tr>
            <tr><td>[05:01] *** salmon_ has joined #kamaelia</td></tr>
            <tr><td>[05:02] *** Lawouach_ wonders why the Selector component is a threaded component</td></tr>
            <tr><td>[05:53] &lt Lawouach_&gt Right, It seems that since the scheduler runs a loop, it leads to the Python process to consume quite a good chunk of CPU time (when looking at the top output)</td></tr>
            <tr><td>[06:00] &lt MS-&gt The selector is a threaded component because a select call blocks when there's nothing happening on a socket.</td></tr>
            <tr><td>[06:00] &lt MS-&gt The alternative is it busy waits</td></tr>
            <tr><td>[06:01] &lt MS-&gt Busy waiting for some things is preferable, but it was changed to threaded when we added the UnixProcess component because otherwise the selector would be busy waiting</td></tr>
            <tr><td>[06:01] &lt MS-&gt and starving UnixProcess of CPU</td></tr>
            <tr><td>[06:02] &lt MS-&gt ie essentially it's to prevent resource starvation</td></tr>
            <tr><td>[06:03] &lt MS-&gt The scheduler will also pause (ie effectively time.sleep - though it's more intelligent than that) when all components are .paused()</td></tr>
            <tr><td>[06:03] &lt MS-&gt It could be improved though</td></tr>
            <tr><td>[06:03] *** Uraeus has joined #kamaelia</td></tr>
            <tr><td>[06:04] &lt MS-&gt I've realised also that I have too many pots in the air at the moment, so my immediate focus is to *clear* /branches so that I can create an Axon2 branch there now that I know what I need from it</td></tr>
            <tr><td>[06:04] &lt MS-&gt That said, our director at work is going to be demoing something at the largest international broadcasting convention in IBC that I haven't</td></tr>
            <tr><td>[06:05] &lt MS-&gt finished writing yet (about 10-20% done so far, but 1/2 the key part is done)</td></tr>
            <tr><td>[06:05] &lt MS-&gt So that's really my actual general focus at present</td></tr>
            <tr><td>[06:06] &lt MS-&gt does mean I'm a little distracted, but the upside is its written with kamaelia, so I'm spending alot more time on kamaelia related code at the moment</td></tr>
            <tr><td>[06:06] &lt MS-&gt Incidentally the scheduler was originally *designed* to be busy waiting, which is also part of the issue</td></tr>
            <tr><td>[06:07] &lt MS-&gt A busy waiting scheduler in a network server is actually quite useful</td></tr>
            <tr><td>[06:07] &lt MS-&gt since if you starve out all other processes, the server gets all the CPU</td></tr>
            <tr><td>[06:08] &lt MS-&gt If you need to release the CPU you could try adding</td></tr>
            <tr><td>[06:09] &lt MS-&gt (and that's the issue you're trying to deal with - ie you want to force kamaelia to play nicer with something else)</td></tr>
            <tr><td>[06:09] &lt MS-&gt Then rather than running a system with</td></tr>
            <tr><td>[06:09] &lt MS-&gt .run()</td></tr>
            <tr><td>[06:09] &lt MS-&gt or with scheduler.run.runThreads()</td></tr>
            <tr><td>[06:09] &lt MS-&gt which results in this loop:</td></tr>
            <tr><td>[06:10] &lt MS-&gt Actually no that's fine.</td></tr>
            <tr><td>[06:10] &lt MS-&gt you just want to add slowmo in</td></tr>
            <tr><td>[06:10] &lt MS-&gt with a very small number</td></tr>
            <tr><td>[06:10] &lt MS-&gt say 0.001</td></tr>
            <tr><td>[06:10] &lt MS-&gt The scheduler does however need the rewrite finished</td></tr>
            <tr><td>[06:11] &lt MS-&gt And I can't really focus on that whilst there's a ton of stuff in /branches really.</td></tr>
            <tr><td>[06:11] &lt MS-&gt I know that's a pain & I'm sorry</td></tr>
            <tr><td>[06:13] &lt MS-&gt It *is* down to 5 branches to clean, prune, and either merge or reject now though</td></tr>
            <tr><td>[06:13] &lt MS-&gt If there was a way of renaming branches in subversion without losing the appropriate branch point, then that would be useful, and if mercurial allows that, that would be a good reason for switching to mercurial now that it's available</td></tr>
            <tr><td>[06:37] *** Uraeus has joined #kamaelia</td></tr>
            <tr><td>[06:53] &lt vmlemon&gt Hi</td></tr>
            <tr><td>[06:54] &lt vmlemon&gt Has anyone looked at Google Wave yet, out of curiosity?</td></tr>
            <tr><td>[06:55] &lt vmlemon&gt (It's XMPP based - which is should be a carrot, assuming that Lawouach_ hasn't already played with it) ;)</td></tr>
            <tr><td>[08:15] &lt Lawouach_&gt I haven't yet because it is indeed a carrot :)</td></tr>
            <tr><td>[08:45] &lt vmlemon&gt Heh, I finally managed to set up their demo server</td></tr>
            <tr><td>[08:45] &lt vmlemon&gt Although the Java-based client seems a little broken</td></tr>
            <tr><td>[08:45] &lt vmlemon&gt *which should</td></tr>
            <tr><td>[08:45] &lt vmlemon&gt Even</td></tr>
            <tr><td>[08:46] &lt vmlemon&gt There's console output from it at http://paster.dazjorz.com/?p=4636, if anyone's interested</td></tr>
            <tr><td>[09:39] &lt Lawouach_&gt MS-: thanks for the input</td></tr>
            <tr><td>[09:39] &lt MS-&gt you're welcome - thanks for the feedback</td></tr>
            <tr><td>[09:40] &lt MS-&gt I really am trying to get to the stage where I can focus on optimisations, but I figured that clean up was more important if the code is "good enough" (but could be better) for the moment</td></tr>
            <tr><td>[09:40] &lt MS-&gt Also, I'm going through Jason's largest branch</td></tr>
            <tr><td>[09:41] &lt MS-&gt which I know has stuff on it worth merging</td></tr>
            <tr><td>[09:41] &lt MS-&gt But it transpires that what it looks like he's done with it was</td></tr>
            <tr><td>[09:42] &lt MS-&gt branch off /trunk</td></tr>
            <tr><td>[09:42] &lt MS-&gt then merge from /branches/my_old_nasty_scratch_branch</td></tr>
            <tr><td>[09:42] &lt MS-&gt then add lots of fixes to lots of random things</td></tr>
            <tr><td>[09:42] &lt MS-&gt then added his application code, in one go</td></tr>
            <tr><td>[09:42] &lt Lawouach_&gt cleaning up the code would be a huge gain already</td></tr>
            <tr><td>[09:42] &lt Lawouach_&gt performances are fine</td></tr>
            <tr><td>[09:42] &lt MS-&gt which means there's lots of work to be done</td></tr>
            <tr><td>[09:42] &lt MS-&gt cool</td></tr>
            <tr><td>[09:42] &lt MS-&gt But as you can imagine I think it's worth doinG!</td></tr>
            <tr><td>[09:42] &lt MS-&gt :)</td></tr>
            <tr><td>[09:43] &lt MS-&gt (cleanup this is :) )</td></tr>
            <tr><td>[09:43] &lt Lawouach_&gt I'm now investigating why we see some CPU usage peak since we are running some code using Kamaelia</td></tr>
            <tr><td>[09:43] *** MS- nods</td></tr>
            <tr><td>[09:43] &lt MS-&gt Knowing the original design architecture there helps I guess as well.</td></tr>
            <tr><td>[09:43] &lt Lawouach_&gt I guess</td></tr>
            <tr><td>[09:44] &lt Lawouach_&gt well in any case I need to clearify a few things first</td></tr>
            <tr><td>[09:44] &lt MS-&gt k</td></tr>
            <tr><td>[09:44] &lt Lawouach_&gt clarify</td></tr>
            <tr><td>[09:44] &lt MS-&gt I got it :)</td></tr>
            <tr><td>[09:45] &lt Lawouach_&gt :p</td></tr>
            <tr><td>[09:45] &lt MS-&gt You should see the words I come up with ;)</td></tr>
            <tr><td>[09:46] &lt Lawouach_&gt :)</td></tr>
            <tr><td>[09:59] &lt MS-&gt biab</td></tr>
            <tr><td>[09:59] *** MS- has parted #kamaelia</td></tr>
            <tr><td>[10:02] *** Davbo has joined #kamaelia</td></tr>
            <tr><td>[12:05] *** MS- has joined #kamaelia</td></tr>
            <tr><td>[12:05] &lt MS-&gt afternoon</td></tr>
            <tr><td>[12:05] &lt Davbo&gt Hey MS-</td></tr>
            <tr><td>[12:41] *** salmon_ has joined #kamaelia</td></tr>
            <tr><td>[14:00] *** MS- has parted #kamaelia</td></tr>
            <tr><td>[15:15] *** Davbo has joined #kamaelia</td></tr>
            <tr><td>[15:35] *** Davbo has joined #kamaelia</td></tr>
            <tr><td>[15:49] *** salmon_ has joined #kamaelia</td></tr>
            <tr><td>[16:36] *** MS- has joined #kamaelia</td></tr>
            <tr><td>[16:36] &lt MS-&gt evening</td></tr>
            <tr><td>[16:45] &lt Davbo&gt Hey MS-</td></tr>
            <tr><td>[16:45] &lt Davbo&gt hunting a bug since 2:30 which needed 1 line fix</td></tr>
            <tr><td>[16:46] &lt Davbo&gt and the fix was an import :-\</td></tr>
            <tr><td>[16:47] &lt MS-&gt Well, look at it this way you found the bug</td></tr>
            <tr><td>[16:49] &lt Davbo&gt Ahhhh!! I think I get how that makes it work</td></tr>
            <tr><td>[16:49] &lt MS-&gt what makes what work? In kamaelia ? Something else ?</td></tr>
            <tr><td>[16:49] &lt Davbo&gt Sorry, eureka moment with something else</td></tr>
            <tr><td>[16:50] &lt MS-&gt ah</td></tr>
            <tr><td>[16:50] &lt Davbo&gt it was something I'd done with threading - so the imports didn't work as I expected</td></tr>
            <tr><td>[17:04] &lt MS-&gt I see</td></tr>
            <tr><td>[17:05] &lt MS-&gt Now, you see, that's what kamaelia is designed to stop happening - to stop weird things happening when you do concurrent stuff :)</td></tr>
            <tr><td>[18:07] &lt MS-&gt sigh, a mail about pythonicness</td></tr>
            <tr><td>[18:07] &lt MS-&gt Irony is I can't actually read what the proposed syntax is supposed to do</td></tr>
            <tr><td>[18:08] &lt MS-&gt But it's a suggestion, a concrete interested one at that, so I'll reply, since it's nice to get such things :)</td></tr>
            <tr><td>[18:09] &lt MS-&gt I think I'd be curious to hear other views first tbh</td></tr>
            <tr><td>[18:10] &lt MS-&gt So I may wait a day or so before replying.</td></tr>
            <tr><td>[18:10] *** Uraeus has joined #kamaelia</td></tr>
            <tr><td>[18:12] &lt Davbo&gt yeah just read that</td></tr>
            <tr><td>[18:13] &lt Davbo&gt interesting that after having just started using Kamaelia a little he's suggesting major syntactic changes</td></tr>
            <tr><td>[18:15] &lt Davbo&gt that itself might be more valuable than the suggestions themselves</td></tr>
            <tr><td>[18:15] *** Davbo shrugs</td></tr>
            <tr><td>[18:15] &lt MS-&gt It's clearly a reaction against the current lack of syntactic sugar</td></tr>
            <tr><td>[18:15] &lt MS-&gt Which is fine, because I recognise that's useful</td></tr>
            <tr><td>[18:16] &lt MS-&gt Also, some of the reasons for what's currently there are unclear if you look at kamaelia.</td></tr>
            <tr><td>[18:16] &lt MS-&gt since a heavy influence on current syntactic sugar is "must be portable to another language"</td></tr>
            <tr><td>[18:16] &lt MS-&gt Do avoid becoming an evolutionary dead end</td></tr>
            <tr><td>[18:17] &lt MS-&gt But there are somethings that can be done, and brainstorming ideas is useful</td></tr>
            <tr><td>[18:17] &lt MS-&gt The problem is I can't see how the proposed syntax relates to current syntax</td></tr>
            <tr><td>[18:17] &lt MS-&gt Well, I can on a level, but not completely</td></tr>
            <tr><td>[18:18] &lt MS-&gt But I may simply have a blind spot</td></tr>
            <tr><td>[18:20] &lt MS-&gt All that said, my general view on these things is "try implementing it and using it, and see what works".</td></tr>
            <tr><td>[18:20] &lt Davbo&gt it'd be useful to see some code for his proposed changes</td></tr>
            <tr><td>[18:20] &lt MS-&gt I'd like to see what the traditional code would look like</td></tr>
            <tr><td>[18:20] &lt MS-&gt ie what that code replaces</td></tr>
            <tr><td>[18:21] &lt MS-&gt (currently going through this branch: private_JMB_Wsgi - which is rather painful due to the way it was made)</td></tr>
            <tr><td>[18:21] &lt MS-&gt (hence focussing on that at this instant)</td></tr>
            <tr><td>[18:21] &lt Davbo&gt hmm, was that Jason's?</td></tr>
            <tr><td>[18:23] &lt Davbo&gt think I struggled trying to review some of his code iirc</td></tr>
            <tr><td>[18:23] &lt MS-&gt yep</td></tr>
            <tr><td>[18:23] &lt MS-&gt The problem with that branch is the sheer number of unrelated changes</td></tr>
            <tr><td>[18:23] &lt MS-&gt which are already on /trunk</td></tr>
            <tr><td>[18:24] &lt MS-&gt Once I restructured your code, and rebranched it, it was alot easier to work with for example</td></tr>
            <tr><td>[18:24] &lt MS-&gt Picking out a number of components as candidates for generalisation and merge into the main namespace</td></tr>
            <tr><td>[18:24] &lt Davbo&gt You looked at mercurial at all MS-?</td></tr>
            <tr><td>[18:24] &lt MS-&gt ronny mentioned that at europython</td></tr>
            <tr><td>[18:25] &lt Davbo&gt code.google support it now</td></tr>
            <tr><td>[18:25] &lt MS-&gt I think I'm tempted to consider that, but want to get /branches in order first</td></tr>
            <tr><td>[18:25] &lt MS-&gt before throwing something new into the mix</td></tr>
            <tr><td>[18:25] &lt Davbo&gt i'm using it for work now</td></tr>
            <tr><td>[18:25] &lt MS-&gt what do you think of it?</td></tr>
            <tr><td>[18:26] &lt Davbo&gt still getting used to it</td></tr>
            <tr><td>[18:26] *** MS- nods</td></tr>
            <tr><td>[18:26] &lt Davbo&gt but being able to commit on the train to and from work is excellent</td></tr>
            <tr><td>[18:26] &lt MS-&gt Do you do much merging?</td></tr>
            <tr><td>[18:26] &lt ronny&gt re</td></tr>
            <tr><td>[18:26] &lt ronny&gt who pingend me</td></tr>
            <tr><td>[18:27] &lt Davbo&gt Personally I've only merged with it a few times but it's quite a painless process</td></tr>
            <tr><td>[18:27] &lt MS-&gt ronny: I mentioned you because of the conversation at europython about mercurial</td></tr>
            <tr><td>[18:27] &lt Davbo&gt it doesn't try anything clever, just leaves it to you if there is a conflict</td></tr>
            <tr><td>[18:27] &lt ronny&gt my client wont highlight any more</td></tr>
            <tr><td>[18:28] &lt MS-&gt Ah</td></tr>
            <tr><td>[18:29] &lt ronny&gt hg is pretty much the most decent vcs in my oppinion</td></tr>
            <tr><td>[18:29] &lt Davbo&gt Doesn't Python use it now?</td></tr>
            <tr><td>[18:30] &lt ronny&gt but my view on the vcs's is partially disturbed by the fact that each of them is very weird and nasty and abstracting them isnt really a salvation</td></tr>
            <tr><td>[18:30] &lt ronny&gt Davbo: not yet</td></tr>
            <tr><td>[18:30] &lt MS-&gt Davbo: They're shifting over.</td></tr>
            <tr><td>[18:30] &lt Davbo&gt ah</td></tr>
            <tr><td>[18:30] &lt ronny&gt Davbo: python will ue it in future, they are still in the process of setting up the repo conversation</td></tr>
            <tr><td>[18:31] &lt Davbo&gt I guess it's not exactly a trivial move</td></tr>
            <tr><td>[18:31] &lt ronny&gt the python repos are quite rare, and they want a really decent conversation</td></tr>
            <tr><td>[18:31] &lt ronny&gt *large</td></tr>
            <tr><td>[18:31] &lt ronny&gt hmm</td></tr>
            <tr><td>[18:31] &lt ronny&gt hg is my favourite, cause its the only vcs i can keep in my mind as whole</td></tr>
            <tr><td>[18:32] &lt ronny&gt and its fast</td></tr>
            <tr><td>[18:32] &lt ronny&gt all others are too complex to broether</td></tr>
            <tr><td>[18:32] &lt Davbo&gt yeah</td></tr>
            <tr><td>[18:32] &lt MS-&gt Well, I've promised to give it a proper look, and I will. But my first priority is to merge outstanding code. (or reject it. One or the other)</td></tr>
            <tr><td>[18:32] &lt Davbo&gt I know what you mean, the inital move is somewhat confusing though -- coming from svn for example</td></tr>
            <tr><td>[18:32] &lt ronny&gt hg is pretty simple revlogs, manifests, changelog,</td></tr>
            <tr><td>[18:33] &lt MS-&gt fwiw , I like simple</td></tr>
            <tr><td>[18:33] &lt Davbo&gt I think you'd like it MS-</td></tr>
            <tr><td>[18:33] &lt ronny&gt its imperfections are signatures, tags and a few really special case merges</td></tr>
            <tr><td>[18:33] &lt MS-&gt I can think of specific cases for merging I'd like to be simpler, so I'll test that with a different code base first</td></tr>
            <tr><td>[18:33] &lt ronny&gt MS-: in genral im in love with hg</td></tr>
            <tr><td>[18:33] &lt MS-&gt :-)</td></tr>
            <tr><td>[18:34] &lt MS-&gt That's a very strong positive statement :)</td></tr>
            <tr><td>[18:34] &lt ronny&gt i got quite deep into it, even supplyed some accepted patches</td></tr>
            <tr><td>[18:35] &lt ronny&gt the only weak point that really nags me is the tagging</td></tr>
            <tr><td>[18:35] &lt ronny&gt but i'll work around that in anyvc</td></tr>
            <tr><td>[18:35] &lt Davbo&gt what's wrong with that ronny ?</td></tr>
            <tr><td>[18:35] &lt ronny&gt Davbo: tags are stored in a file thats part of the history</td></tr>
            <tr><td>[18:35] &lt ronny&gt same goes for signatures</td></tr>
            <tr><td>[18:36] &lt MS-&gt hm</td></tr>
            <tr><td>[18:36] &lt ronny&gt it gives some interesting properties</td></tr>
            <tr><td>[18:36] &lt Davbo&gt Ah yes</td></tr>
            <tr><td>[18:36] &lt ronny&gt people really like having a history of tags</td></tr>
            <tr><td>[18:36] &lt MS-&gt Mind you I hate the way subversion does tagging</td></tr>
            <tr><td>[18:36] &lt ronny&gt +some</td></tr>
            <tr><td>[18:36] &lt ronny&gt MS-: svn is completely broken in that regard</td></tr>
            <tr><td>[18:37] &lt MS-&gt Whilst svn was touted as being designed as a "better replacement for CVS"</td></tr>
            <tr><td>[18:37] &lt Davbo&gt I've used some local tags -- how are they stored?</td></tr>
            <tr><td>[18:37] &lt MS-&gt I was rather surprised at just how badly implemented tags are</td></tr>
            <tr><td>[18:37] &lt ronny&gt Davbo: file within .hg</td></tr>
            <tr><td>[18:37] &lt ronny&gt MS-: svn was a epic fail from the beginning</td></tr>
            <tr><td>[18:38] &lt ronny&gt going for "cvs right" cant possibly yield reasonable results</td></tr>
            <tr><td>[18:38] &lt Davbo&gt hah</td></tr>
            <tr><td>[18:38] &lt ronny&gt also they like retarded things like webdav</td></tr>
            <tr><td>[18:39] &lt ronny&gt seriously, if adter an hour of the webdav spec someone still doesnt reject implementing it hes either dammaged, or gets more money than reasonable</td></tr>
            <tr><td>[18:40] &lt Davbo&gt we really need to alter our hg setup though, it's currently behind nginx</td></tr>
            <tr><td>[18:41] &lt Davbo&gt makes for some odd behaviour</td></tr>
            <tr><td>[18:41] &lt ronny&gt MS-: btw, the kamaelia repos might be an intresting case for use with hgsubversion</td></tr>
            <tr><td>[18:41] &lt ronny&gt (as far as i understand the layout isnt exactly standard and you used funky dvcs techniques)</td></tr>
            <tr><td>[18:48] &lt Davbo&gt Now you've revealed your knowledge of hg ronny you can expect me poking you for assistance when I break everything ;-)</td></tr>
            <tr><td>[18:48] Reply: Hi, I'm a bot. I've been put here to answer faq's and log the channel.</td></tr>
            <tr><td>[18:48] Reply: I've not really been configured yet, so I won't do much here yet :-)</td></tr>
            <tr><td>[18:49] &lt ronny&gt MS-: teach that bot to order steak and strippers, all other functionality will seem secondary</td></tr>
            <tr><td>[18:49] &lt Davbo&gt hah</td></tr>
            <tr><td>[18:49] &lt ronny&gt Davbo: im doing more insane things atm</td></tr>
            <tr><td>[18:50] &lt MS-&gt ronny: Indeed. I'll see what I can do. Currently going through a large messy patch at the moment.</td></tr>
            <tr><td>[18:50] &lt MS-&gt heh</td></tr>
            <tr><td>[18:50] &lt ronny&gt Davbo: currently im creating a way to run the unittests for my vcs abstraction lib on multiple versions of each vcs</td></tr>
            <tr><td>[18:50] &lt ronny&gt and boy is that nasty</td></tr>
            <tr><td>[18:50] &lt MS-&gt my reply was out of context, but if kamlogbot could do that, it could be a money spinner :-)</td></tr>
            <tr><td>[18:51] &lt Davbo&gt wow, sounds it</td></tr>
            <tr><td>[18:51] &lt ronny&gt hmm, its my idea, can i has a free try</td></tr>
            <tr><td>[18:52] &lt ronny&gt !steak&strippers</td></tr>
            <tr><td>[18:53] &lt Davbo&gt wonder if we can find a stripper website with a REST API</td></tr>
            <tr><td>[18:54] &lt ronny&gt i dont tihnk strippers have api</td></tr>
            <tr><td>[18:54] &lt ronny&gt and im not sure if i wanted those with one</td></tr>
            <tr><td>[18:55] &lt Davbo&gt Good point</td></tr>
            <tr><td>[18:56] &lt ronny&gt ok</td></tr>
            <tr><td>[18:56] &lt ronny&gt time to invent a reasonable resource manger for pygtkhelpers</td></tr>
            <tr><td>[18:56] &lt ronny&gt (for propperly loading ui files and images)</td></tr>
            <tr><td>[18:59] &lt MS-&gt Davbo: "stripper website with a REST API" - you'd have to scrape it</td></tr>
            <tr><td>[18:59] &lt MS-&gt (or towel it down)</td></tr>
            <tr><td>[19:01] &lt Davbo&gt Ack lol</td></tr>
            <tr><td>[19:02] &lt Davbo&gt Someone needs to edit the log files and s/stripper/disney</td></tr>
            <tr><td>[19:02] &lt MS-&gt heh</td></tr>
            <tr><td>[19:07] &lt ronny&gt i have the orginal in a faultsafe DHT</td></tr>
            <tr><td>[21:22] *** MS- has parted #kamaelia</td></tr>
