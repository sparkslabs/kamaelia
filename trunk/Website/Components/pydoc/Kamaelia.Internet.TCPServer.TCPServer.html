<html><body>
<h1>Kamaelia.Internet.TCPServer.TCPServer</h1>
<h2>class TCPServer(Axon.Component.component)</h2>

<p>TCPServer(listenport) -&gt; TCPServer component listening on the specified port.</p>
<p>Creates a TCPServer component that accepts all connection requests on the
specified port.</p>
<h4>Inboxes</h4>
<ul><li>   DataReady : status('data ready') messages indicating new connection waiting to be accepted
<li>   _csa_feedback : for feedback from ConnectedSocketAdapter (shutdown messages)
</ul>
<h4>Outboxes</h4>
<ul><li>   protocolHandlerSignal : For passing on newly created ConnectedSocketAdapter components
<li>   signal : NOT USED
<li>   _selectorSignal : For registering newly created ConnectedSocketAdapter components with a selector service
</ul>
<h2>Methods defined here</h2>

[[boxright][[include][file=Components/MethodNote.html][croptop=1][crop
bottom=1] ] ]
<h3>__init__(self, listenport)</h3>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
<h3>checkForClosedSockets(self)</h3>
<p>Check &quot;_csa_feedback&quot; inbox for socketShutdown messages, and close sockets in response.</p>
<h3>closeSocket(self, shutdownMessage)</h3>
<p>Respond to a socketShutdown message by closing the socket.</p>
<p>Sends a shutdownCSA(self, (theCSA, sock)) message to the selectorComponent.
Sends a shutdownCSA(self, theCSA) message to &quot;protocolHandlerSignal&quot; outbox.</p>
<h3>createConnectedSocket(self, sock)</h3>
<p>Accepts the connection request on the specified socket and returns a
ConnectedSocketAdapter component for it.</p>
<h3>handleNewConnection(self)</h3>
<p>Handle notifications from the selector service of new connection requests.</p>
<p>Accepts and sets up new connections, wiring them up and passing them on via
the &quot;protocolHandlerSignal&quot; outbox.</p>
<h3>initialiseComponent(self)</h3>
<p>Obtains a selector service and wires up to it, registering self to be notified
of incoming connection requests on a socket bound to the port its supposed to
be listening to.</p>
<h3>mainBody(self)</h3>
<p>Main loop</p>
<h3>makeTCPServerPort(self, suppliedport, HOST, minrange, maxrange, maxlisten)</h3>
<p>Returns (socket,port) - a bound TCP listener socket and the port number it is listening on.</p>
<p>If suppliedPort is not specified, then a random port is chosen between
minrange and maxrange inclusive.</p>
<p>maxlisten is the max number of pending requests the server will allow (queue up).</p>
</body></html>
